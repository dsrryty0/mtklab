<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</title>
  <style>
    /* ===========================
       CSS è®Šæ•¸ & Reset
    =========================== */
    :root {
      --primary:       #e60012;
      --primary-dark:  #b30010;
      --secondary:     #003087;
      --accent:        #f5a623;
      --success:       #27ae60;
      --danger:        #e74c3c;
      --bg:            #f4f6f9;
      --card-bg:       #ffffff;
      --text:          #2c3e50;
      --text-light:    #7f8c8d;
      --border:        #dce1e7;
      --shadow-sm:     0 2px 8px rgba(0,0,0,.08);
      --shadow-md:     0 4px 20px rgba(0,0,0,.12);
      --shadow-lg:     0 8px 40px rgba(0,0,0,.18);
      --radius-sm:     8px;
      --radius-md:     14px;
      --radius-lg:     22px;
      --transition:    0.28s cubic-bezier(.4,0,.2,1);
      --font:          'Helvetica Neue', Arial, 'PingFang TC',
                       'Microsoft JhengHei', sans-serif;
    }

    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    img {
      max-width: 100%;
      display: block;
    }

    button {
      cursor: pointer;
      border: none;
      outline: none;
      font-family: var(--font);
    }

    input, textarea {
      font-family: var(--font);
      outline: none;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ===========================
       é€šç”¨ä½ˆå±€
    =========================== */
    .app-wrapper {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      background: var(--card-bg);
      position: relative;
      overflow-x: hidden;
    }

    .page {
      display: none;
      min-height: 100vh;
      flex-direction: column;
    }

    .page.active {
      display: flex;
    }

    /* ===========================
       é ‚éƒ¨å°èˆªæ¬„
    =========================== */
    .top-bar {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--primary);
      color: #fff;
      padding: 14px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: var(--shadow-md);
    }

    .top-bar .logo-text {
      font-size: 1.05rem;
      font-weight: 700;
      letter-spacing: .03em;
    }

    .top-bar .back-btn {
      background: rgba(255,255,255,.18);
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      transition: var(--transition);
    }

    .top-bar .back-btn:active {
      background: rgba(255,255,255,.32);
      transform: scale(.93);
    }

    .top-bar .progress-text {
      font-size: .78rem;
      opacity: .88;
    }

    /* ===========================
       é€šç”¨æŒ‰éˆ•æ¨£å¼
    =========================== */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 13px 28px;
      border-radius: var(--radius-md);
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: .04em;
      transition: var(--transition);
      width: 100%;
    }

    .btn-primary {
      background: var(--primary);
      color: #fff;
      box-shadow: 0 4px 14px rgba(230,0,18,.28);
    }

    .btn-primary:active {
      background: var(--primary-dark);
      transform: translateY(2px);
      box-shadow: 0 2px 6px rgba(230,0,18,.2);
    }

    .btn-secondary {
      background: var(--secondary);
      color: #fff;
      box-shadow: 0 4px 14px rgba(0,48,135,.22);
    }

    .btn-secondary:active {
      background: #002060;
      transform: translateY(2px);
    }

    .btn-success {
      background: var(--success);
      color: #fff;
      box-shadow: 0 4px 14px rgba(39,174,96,.28);
    }

    .btn-success:active {
      background: #219150;
      transform: translateY(2px);
    }

    .btn-ghost {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-ghost:active {
      background: rgba(230,0,18,.07);
    }

    /* ===========================
       é€šç”¨å¡ç‰‡
    =========================== */
    .card {
      background: var(--card-bg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }

    .card-body {
      padding: 18px 20px;
    }

    /* ===========================
       æ¨™ç±¤ / Badge
    =========================== */
    .badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 99px;
      font-size: .72rem;
      font-weight: 700;
      letter-spacing: .05em;
      text-transform: uppercase;
    }

    .badge-red    { background: #fde8ea; color: var(--primary); }
    .badge-blue   { background: #e8edf8; color: var(--secondary); }
    .badge-green  { background: #e8f8ef; color: var(--success); }
    .badge-gold   { background: #fef5e4; color: #c87a00; }
    .badge-grey   { background: #f0f2f5; color: var(--text-light); }

    /* ===========================
       è¡¨å–®å…ƒç´ 
    =========================== */
    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      display: block;
      font-size: .85rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 7px;
    }

    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: .97rem;
      color: var(--text);
      background: #fafbfc;
      transition: border-color var(--transition);
    }

    .form-input:focus {
      border-color: var(--primary);
      background: #fff;
    }

    .form-input.error  { border-color: var(--danger); }
    .form-input.success { border-color: var(--success); }

    /* ===========================
       æç¤ºè¨Šæ¯
    =========================== */
    .alert {
      padding: 12px 16px;
      border-radius: var(--radius-sm);
      font-size: .9rem;
      font-weight: 500;
      margin-bottom: 14px;
      display: flex;
      align-items: flex-start;
      gap: 9px;
      animation: fadeIn .3s ease;
    }

    .alert-success {
      background: #eafaf1;
      color: #1e8449;
      border-left: 4px solid var(--success);
    }

    .alert-danger {
      background: #fdf0f0;
      color: #c0392b;
      border-left: 4px solid var(--danger);
    }

    .alert-info {
      background: #eaf0fb;
      color: #1a5276;
      border-left: 4px solid var(--secondary);
    }

    .alert-warning {
      background: #fef9ec;
      color: #7d5a00;
      border-left: 4px solid var(--accent);
    }

    /* ===========================
       åˆ†éš”ç·š
    =========================== */
    .divider {
      height: 1px;
      background: var(--border);
      margin: 18px 0;
    }

    /* ===========================
       é€šç”¨å‹•ç•«
    =========================== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(24px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50%       { transform: scale(1.06); }
    }

    @keyframes shimmer {
      0%   { background-position: -200% center; }
      100% { background-position:  200% center; }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      40%       { transform: translateY(-10px); }
      60%       { transform: translateY(-5px); }
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    @keyframes confettiFall {
      0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    .animate-fadeIn    { animation: fadeIn    .4s ease both; }
    .animate-fadeInUp  { animation: fadeInUp  .5s ease both; }
    .animate-pulse     { animation: pulse     1.6s infinite; }
    .animate-bounce    { animation: bounce    1s infinite; }

    /* ===========================
       é è…³
    =========================== */
    .footer {
      background: #1a1a2e;
      color: rgba(255,255,255,.55);
      text-align: center;
      padding: 18px 20px;
      font-size: .75rem;
      line-height: 1.8;
    }

    .footer strong {
      color: rgba(255,255,255,.85);
    }
  </style>
    /* ===========================
       ç™»å…¥é æ¨£å¼
    =========================== */
    .login-page {
      background: linear-gradient(145deg, #e60012 0%, #003087 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 24px;
    }

    .login-logo {
      width: 90px;
      height: 90px;
      background: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.8rem;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,.22);
      animation: bounce 2s infinite;
    }

    .login-title {
      color: #fff;
      font-size: 1.6rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 6px;
      letter-spacing: .04em;
    }

    .login-subtitle {
      color: rgba(255,255,255,.75);
      font-size: .9rem;
      text-align: center;
      margin-bottom: 36px;
    }

    .login-card {
      background: #fff;
      border-radius: var(--radius-lg);
      padding: 28px 24px;
      width: 100%;
      max-width: 400px;
      box-shadow: var(--shadow-lg);
    }

    .login-card .form-label {
      font-size: .9rem;
    }

    .group-selector {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 20px;
    }

    .group-btn {
      padding: 14px 10px;
      border-radius: var(--radius-md);
      border: 2px solid var(--border);
      background: #fafbfc;
      font-size: .92rem;
      font-weight: 600;
      color: var(--text-light);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      transition: var(--transition);
    }

    .group-btn .group-icon { font-size: 1.6rem; }

    .group-btn.selected {
      border-color: var(--primary);
      background: #fff0f1;
      color: var(--primary);
    }

    .group-btn:active {
      transform: scale(.97);
    }

    /* ===========================
       é¦–é  Hero Banner
    =========================== */
    .hero-banner {
      background: linear-gradient(135deg, #e60012 0%, #003087 100%);
      padding: 28px 20px 32px;
      color: #fff;
      position: relative;
      overflow: hidden;
    }

    .hero-banner::before {
      content: '';
      position: absolute;
      top: -40px; right: -40px;
      width: 160px; height: 160px;
      border-radius: 50%;
      background: rgba(255,255,255,.08);
    }

    .hero-banner::after {
      content: '';
      position: absolute;
      bottom: -30px; left: -30px;
      width: 120px; height: 120px;
      border-radius: 50%;
      background: rgba(255,255,255,.06);
    }

    .hero-greeting {
      font-size: .88rem;
      opacity: .8;
      margin-bottom: 4px;
    }

    .hero-title {
      font-size: 1.45rem;
      font-weight: 800;
      margin-bottom: 10px;
      line-height: 1.3;
    }

    .hero-stats {
      display: flex;
      gap: 18px;
      margin-top: 16px;
    }

    .hero-stat {
      background: rgba(255,255,255,.15);
      border-radius: var(--radius-sm);
      padding: 8px 14px;
      text-align: center;
      backdrop-filter: blur(4px);
    }

    .hero-stat-num {
      font-size: 1.4rem;
      font-weight: 800;
    }

    .hero-stat-label {
      font-size: .7rem;
      opacity: .8;
    }

    /* ===========================
       é€²åº¦æ¢
    =========================== */
    .progress-wrap {
      padding: 18px 20px 0;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .progress-title {
      font-size: .85rem;
      font-weight: 600;
      color: var(--text);
    }

    .progress-pct {
      font-size: .82rem;
      font-weight: 700;
      color: var(--primary);
    }

    .progress-bar-bg {
      height: 10px;
      background: var(--border);
      border-radius: 99px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 99px;
      transition: width .6s cubic-bezier(.4,0,.2,1);
    }

    /* ===========================
       ç«™é»åˆ—è¡¨
    =========================== */
    .station-list {
      padding: 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .section-title {
      font-size: .8rem;
      font-weight: 700;
      letter-spacing: .1em;
      text-transform: uppercase;
      color: var(--text-light);
      padding: 6px 4px 4px;
    }

    .station-card {
      display: flex;
      align-items: center;
      gap: 14px;
      background: var(--card-bg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      padding: 14px 16px;
      border: 2px solid transparent;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .station-card.unlocked {
      border-color: var(--primary);
      cursor: pointer;
    }

    .station-card.unlocked:active {
      transform: scale(.98);
      box-shadow: var(--shadow-md);
    }

    .station-card.completed {
      background: #f0faf4;
      border-color: var(--success);
      opacity: .85;
    }

    .station-card.locked {
      opacity: .48;
      filter: grayscale(.6);
    }

    .station-thumb {
      width: 58px;
      height: 58px;
      border-radius: var(--radius-sm);
      object-fit: cover;
      flex-shrink: 0;
      background: var(--border);
    }

    .station-thumb-placeholder {
      width: 58px;
      height: 58px;
      border-radius: var(--radius-sm);
      background: linear-gradient(135deg, var(--border), #e8eaf0);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      flex-shrink: 0;
    }

    .station-info { flex: 1; min-width: 0; }

    .station-code {
      font-size: .72rem;
      font-weight: 700;
      letter-spacing: .08em;
      color: var(--primary);
      margin-bottom: 2px;
    }

    .station-name {
      font-size: .97rem;
      font-weight: 700;
      color: var(--text);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .station-poem {
      font-size: .75rem;
      color: var(--text-light);
      margin-top: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .station-status-icon {
      font-size: 1.3rem;
      flex-shrink: 0;
    }

    /* ===========================
       ç«™é»è©³æƒ…é 
    =========================== */
    .station-detail { flex: 1; }

    .station-hero-img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .station-hero-placeholder {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, #e0e4ea, #c8cdd6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
    }

    .station-detail-header {
      padding: 20px 20px 12px;
    }

    .station-detail-code {
      font-size: .78rem;
      font-weight: 700;
      letter-spacing: .1em;
      color: var(--primary);
      margin-bottom: 4px;
    }

    .station-detail-name {
      font-size: 1.45rem;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 8px;
    }

    .station-detail-poem {
      font-size: .88rem;
      color: var(--text-light);
      font-style: italic;
      line-height: 1.7;
      padding: 10px 14px;
      background: #f8f9fb;
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--accent);
    }

    /* ===========================
       æ­¥é©Ÿè§£é–ç³»çµ±
    =========================== */
    .steps-container {
      padding: 16px 20px 30px;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .step-card {
      border-radius: var(--radius-md);
      border: 2px solid var(--border);
      overflow: hidden;
      transition: var(--transition);
    }

    .step-card.active {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(230,0,18,.08);
    }

    .step-card.done {
      border-color: var(--success);
      background: #f0faf4;
    }

    .step-card.locked-step {
      opacity: .5;
      filter: grayscale(.5);
    }

    .step-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: #fafbfc;
    }

    .step-card.active  .step-header { background: #fff5f5; }
    .step-card.done    .step-header { background: #edfaf3; }

    .step-num {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: .85rem;
      font-weight: 700;
      color: var(--text-light);
      flex-shrink: 0;
    }

    .step-card.active .step-num {
      background: var(--primary);
      color: #fff;
    }

    .step-card.done .step-num {
      background: var(--success);
      color: #fff;
    }

    .step-title {
      font-size: .92rem;
      font-weight: 700;
      color: var(--text);
      flex: 1;
    }

    .step-badge { flex-shrink: 0; }

    .step-body {
      padding: 16px 18px;
    }

    .step-question {
      font-size: .92rem;
      color: var(--text);
      line-height: 1.7;
      margin-bottom: 14px;
      background: #f8f9fb;
      padding: 12px 14px;
      border-radius: var(--radius-sm);
    }

    .step-photo-task {
      font-size: .88rem;
      color: var(--text-light);
      line-height: 1.7;
      padding: 10px 14px;
      background: #fffbf0;
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--accent);
      margin-bottom: 14px;
    }

    .password-reveal {
      background: linear-gradient(135deg, #003087, #e60012);
      color: #fff;
      border-radius: var(--radius-sm);
      padding: 16px;
      text-align: center;
      margin-top: 14px;
      animation: fadeInUp .4s ease;
    }

    .password-label {
      font-size: .75rem;
      opacity: .8;
      margin-bottom: 4px;
    }

    .password-value {
      font-size: 1.4rem;
      font-weight: 800;
      letter-spacing: .12em;
    }

    /* ===========================
       å½ˆçª— Modal
    =========================== */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      z-index: 999;
      align-items: flex-end;
      justify-content: center;
      backdrop-filter: blur(3px);
    }

    .modal-overlay.show {
      display: flex;
      animation: fadeIn .25s ease;
    }

    .modal-sheet {
      background: #fff;
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      padding: 24px 22px 36px;
      width: 100%;
      max-width: 480px;
      animation: slideUp .3s cubic-bezier(.4,0,.2,1);
    }

    @keyframes slideUp {
      from { transform: translateY(100%); }
      to   { transform: translateY(0); }
    }

    .modal-handle {
      width: 40px;
      height: 4px;
      background: var(--border);
      border-radius: 99px;
      margin: 0 auto 20px;
    }

    .modal-title {
      font-size: 1.1rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 16px;
    }

    /* ===========================
       Confetti ç²’å­
    =========================== */
    .confetti-container {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 9999;
      overflow: hidden;
    }

    .confetti-piece {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 2px;
      animation: confettiFall linear forwards;
    }
    /* ===========================
       è­‰æ›¸é æ¨£å¼
    =========================== */
    .certificate-page {
      background: linear-gradient(160deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 40px 20px 60px;
    }

    .cert-title-top {
      color: rgba(255,255,255,.7);
      font-size: .85rem;
      letter-spacing: .15em;
      text-transform: uppercase;
      margin-bottom: 24px;
      animation: fadeInUp .5s ease;
    }

    .cert-card {
      background: linear-gradient(145deg, #fff9f0, #fff);
      border-radius: var(--radius-lg);
      padding: 32px 26px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 12px 60px rgba(0,0,0,.4);
      border: 3px solid var(--accent);
      position: relative;
      overflow: hidden;
      animation: fadeInUp .6s ease .1s both;
    }

    .cert-card::before {
      content: '';
      position: absolute;
      top: -60px; right: -60px;
      width: 180px; height: 180px;
      border-radius: 50%;
      background: rgba(245,166,35,.07);
    }

    .cert-card::after {
      content: '';
      position: absolute;
      bottom: -50px; left: -50px;
      width: 150px; height: 150px;
      border-radius: 50%;
      background: rgba(230,0,18,.05);
    }

    .cert-emblem {
      text-align: center;
      font-size: 3.5rem;
      margin-bottom: 10px;
      animation: bounce 2s infinite;
    }

    .cert-header-text {
      text-align: center;
      margin-bottom: 20px;
    }

    .cert-main-title {
      font-size: 1.3rem;
      font-weight: 800;
      color: var(--primary);
      letter-spacing: .06em;
      margin-bottom: 4px;
    }

    .cert-sub-title {
      font-size: .82rem;
      color: var(--text-light);
      letter-spacing: .08em;
    }

    .cert-divider {
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      margin: 16px 0;
    }

    .cert-recipient-label {
      font-size: .75rem;
      color: var(--text-light);
      text-align: center;
      letter-spacing: .1em;
      text-transform: uppercase;
      margin-bottom: 6px;
    }

    .cert-recipient-name {
      font-size: 1.55rem;
      font-weight: 800;
      color: var(--secondary);
      text-align: center;
      margin-bottom: 4px;
    }

    .cert-group-name {
      font-size: .9rem;
      color: var(--text-light);
      text-align: center;
      margin-bottom: 18px;
    }

    .cert-body-text {
      font-size: .88rem;
      color: var(--text);
      text-align: center;
      line-height: 1.8;
      margin-bottom: 18px;
    }

    .cert-stats-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .cert-stat {
      text-align: center;
    }

    .cert-stat-num {
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--primary);
    }

    .cert-stat-label {
      font-size: .72rem;
      color: var(--text-light);
    }

    .cert-footer {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      margin-top: 18px;
    }

    .cert-date {
      font-size: .75rem;
      color: var(--text-light);
    }

    .cert-seal {
      font-size: 2.4rem;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,.15));
    }

    .cert-signature {
      font-size: .8rem;
      color: var(--text-light);
      text-align: right;
    }

    .cert-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 400px;
      margin-top: 24px;
      animation: fadeInUp .7s ease .2s both;
    }

    /* ===========================
       è¼‰å…¥å‹•ç•«
    =========================== */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,.92);
      z-index: 9998;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin .8s linear infinite;
    }

    .loading-text {
      font-size: .9rem;
      color: var(--text-light);
      font-weight: 500;
    }

    /* ===========================
       Toast é€šçŸ¥
    =========================== */
    .toast-container {
      position: fixed;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 99999;
      display: flex;
      flex-direction: column;
      gap: 8px;
      width: calc(100% - 32px);
      max-width: 440px;
      pointer-events: none;
    }

    .toast {
      background: #2c3e50;
      color: #fff;
      padding: 12px 18px;
      border-radius: var(--radius-md);
      font-size: .88rem;
      font-weight: 500;
      box-shadow: var(--shadow-lg);
      animation: fadeInUp .3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .toast.toast-success { background: #1e8449; }
    .toast.toast-error   { background: #c0392b; }
    .toast.toast-info    { background: var(--secondary); }

  </style>
</head>
<body>
<div class="app-wrapper">

  <!-- =====================
       Toast å®¹å™¨
  ===================== -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- =====================
       Confetti å®¹å™¨
  ===================== -->
  <div class="confetti-container" id="confettiContainer"></div>

  <!-- =====================
       è¼‰å…¥é®ç½©
  ===================== -->
  <div class="loading-overlay" id="loadingOverlay" style="display:none;">
    <div class="loading-spinner"></div>
    <div class="loading-text">è¼‰å…¥ä¸­ï¼Œè«‹ç¨å€™â‹¯</div>
  </div>

  <!-- =====================
       é é¢ 1ï¼šç™»å…¥é 
  ===================== -->
  <div class="page active" id="page-login">
    <div class="login-page">
      <div class="login-logo">ğŸš‡</div>
      <div class="login-title">æ¸¯éµå°‹å¯¶å¤§å†’éšª</div>
      <div class="login-subtitle">2025 Â· æ¸¯å³¶ç·š Ã— æ±éµç·š</div>
      <div class="login-card">
        <div class="form-group">
          <label class="form-label">ğŸ‘¤ éšŠä¼åç¨±</label>
          <input class="form-input" type="text" id="teamNameInput"
                 placeholder="è«‹è¼¸å…¥ä½ çš„éšŠä¼åç¨±" maxlength="20" />
        </div>
        <div class="form-group">
          <label class="form-label">ğŸ—ºï¸ é¸æ“‡è·¯ç·š</label>
          <div class="group-selector">
            <button class="group-btn" id="groupA" onclick="selectGroup('A')">
              <span class="group-icon">ğŸŸ¢</span>
              <span>æ¸¯å³¶ç·š</span>
              <span class="badge badge-red">A çµ„</span>
            </button>
            <button class="group-btn" id="groupB" onclick="selectGroup('B')">
              <span class="group-icon">ğŸ”µ</span>
              <span>æ±éµç·š</span>
              <span class="badge badge-blue">B çµ„</span>
            </button>
          </div>
        </div>
        <div id="loginAlert"></div>
        <button class="btn btn-primary" onclick="handleLogin()">
          ğŸš€ é–‹å§‹å†’éšª
        </button>
      </div>
    </div>
  </div>

  <!-- =====================
       é é¢ 2ï¼šä¸»é ï¼ˆç«™é»åˆ—è¡¨ï¼‰
  ===================== -->
  <div class="page" id="page-home">
    <div class="top-bar">
      <div class="logo-text">ğŸš‡ æ¸¯éµå°‹å¯¶</div>
      <div class="progress-text" id="homeProgressText">0 / 9 å®Œæˆ</div>
    </div>
    <div class="hero-banner">
      <div class="hero-greeting" id="heroGreeting">ä½ å¥½ï¼Œå†’éšªè€…ï¼</div>
      <div class="hero-title" id="heroTitle">æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</div>
      <div class="hero-stats">
        <div class="hero-stat">
          <div class="hero-stat-num" id="statCompleted">0</div>
          <div class="hero-stat-label">å·²å®Œæˆ</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-num" id="statRemaining">9</div>
          <div class="hero-stat-label">å‰©é¤˜</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-num" id="statGroup">-</div>
          <div class="hero-stat-label">è·¯ç·š</div>
        </div>
      </div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header">
        <span class="progress-title">æ•´é«”é€²åº¦</span>
        <span class="progress-pct" id="progressPct">0%</span>
      </div>
      <div class="progress-bar-bg">
        <div class="progress-bar-fill" id="progressBarFill" style="width:0%"></div>
      </div>
    </div>
    <div class="station-list" id="stationList"></div>
    <div class="footer">
      <strong>æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</strong><br>
      æ¸¯å³¶ç·š Ã— æ±éµç·š Â· 2025å¹´2æœˆ28æ—¥<br>
      ç‰ˆæ¬Šæ‰€æœ‰ Â© 2025
    </div>
  </div>

  <!-- =====================
       é é¢ 3ï¼šç«™é»è©³æƒ…é 
  ===================== -->
  <div class="page" id="page-station">
    <div class="top-bar">
      <button class="back-btn" onclick="goHome()">â†</button>
      <div class="logo-text" id="stationTopTitle">CP ç«™é»</div>
      <div class="progress-text" id="stationProgressText"></div>
    </div>
    <div class="station-detail" id="stationDetailContent"></div>
    <div class="footer">
      <strong>æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</strong><br>
      2025å¹´2æœˆ28æ—¥ Â· ç‰ˆæ¬Šæ‰€æœ‰ Â© 2025
    </div>
  </div>

  <!-- =====================
       é é¢ 4ï¼šé€šé—œè­‰æ›¸é 
  ===================== -->
  <div class="page" id="page-certificate">
    <div class="certificate-page" id="certificateContent"></div>
  </div>

  <!-- =====================
       é€šç”¨ Modal
  ===================== -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
    <div class="modal-sheet" onclick="event.stopPropagation()">
      <div class="modal-handle"></div>
      <div class="modal-title" id="modalTitle"></div>
      <div id="modalBody"></div>
    </div>
  </div>

</div>
<script>
  /* ===================================================
     å…¨åŸŸç‹€æ…‹
  =================================================== */
  const STATE = {
    teamName:        '',
    group:           '',       // 'A' | 'B'
    currentStation:  0,        // 0-based index
    stationProgress: [],       // æ¯é—œè§£é–åˆ°å“ªä¸€æ­¥ 0=æœªé–‹å§‹ 1=Step1é€šé 2=Step2é€šé 3=å…¨é€š
    totalStations:   9,
  };

  /* ===================================================
     å·¥å…·å‡½å¼
  =================================================== */

  /** é é¢åˆ‡æ›ï¼ˆå«å¼·åˆ¶ç½®é ‚ï¼‰ */
  function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-' + id).classList.add('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  /** Toast é€šçŸ¥ */
  function showToast(msg, type = 'info', duration = 2800) {
    const container = document.getElementById('toastContainer');
    const icons = { success: 'âœ…', error: 'âŒ', info: 'â„¹ï¸' };
    const el = document.createElement('div');
    el.className = `toast toast-${type}`;
    el.innerHTML = `<span>${icons[type] || 'â„¹ï¸'}</span><span>${msg}</span>`;
    container.appendChild(el);
    setTimeout(() => el.remove(), duration);
  }

  /** è¼‰å…¥é®ç½© */
  function showLoading(show) {
    document.getElementById('loadingOverlay').style.display = show ? 'flex' : 'none';
  }

  /** Modal */
  function openModal(title, bodyHtml) {
    document.getElementById('modalTitle').innerHTML = title;
    document.getElementById('modalBody').innerHTML = bodyHtml;
    document.getElementById('modalOverlay').classList.add('show');
  }

  function closeModal() {
    document.getElementById('modalOverlay').classList.remove('show');
  }

  /** Confetti å½©ç´™çˆ†ç‚¸ */
  function fireConfetti() {
    const container = document.getElementById('confettiContainer');
    const colors = ['#e60012','#003087','#f5a623','#27ae60','#9b59b6','#fff'];
    for (let i = 0; i < 80; i++) {
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      el.style.cssText = `
        left: ${Math.random() * 100}%;
        top: -10px;
        background: ${colors[Math.floor(Math.random() * colors.length)]};
        width: ${6 + Math.random() * 8}px;
        height: ${6 + Math.random() * 8}px;
        border-radius: ${Math.random() > 0.5 ? '50%' : '2px'};
        animation-duration: ${2 + Math.random() * 2.5}s;
        animation-delay: ${Math.random() * 0.8}s;
      `;
      container.appendChild(el);
      setTimeout(() => el.remove(), 5000);
    }
  }

  /* ===================================================
     é«˜åŒ…å®¹åº¦ç­”æ¡ˆé©—è­‰å¼•æ“
  =================================================== */

  /**
   * normalise()ï¼šå°‡ä½¿ç”¨è€…è¼¸å…¥æ¨™æº–åŒ–ï¼Œç§»é™¤æ‰€æœ‰å¹²æ“¾å› ç´ å¾Œæ¯”å°
   * - è½‰å°å¯«
   * - ç§»é™¤æ‰€æœ‰ç©ºç™½ï¼ˆå…¨å½¢/åŠå½¢ï¼‰
   * - ç§»é™¤å¸¸è¦‹æ¨™é»ç¬¦è™Ÿï¼ˆåŒ…æ‹¬é¡Œè™Ÿå‰ç¶´å¦‚ "1." "2." "ï¼ˆä¸€ï¼‰" ç­‰ï¼‰
   * - ç§»é™¤è²¨å¹£ç¬¦è™Ÿ
   * - ç§»é™¤å…¨å½¢æ‹¬è™Ÿ
   */
  function normalise(str) {
    if (!str) return '';
    return str
      .toLowerCase()
      // ç§»é™¤é¡Œè™Ÿå‰ç¶´ (1. 2. ä¸€. äºŒ. ï¼ˆ1ï¼‰ ï¼ˆä¸€ï¼‰ ç­‰)
      .replace(/[ï¼ˆ(]\s*[\dA-Za-zä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+\s*[ï¼‰)]/g, '')
      .replace(/^[\dA-Za-zä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+\s*[\.ã€‚ã€ï¼š:]\s*/gm, '')
      // ç§»é™¤æ‰€æœ‰ç©ºç™½ï¼ˆåŠå½¢èˆ‡å…¨å½¢ï¼‰
      .replace(/[\s\u3000\u00a0]+/g, '')
      // ç§»é™¤æ¨™é»ç¬¦è™Ÿ
      .replace(/[ï¼Œ,ã€‚\.ã€ï¼›;ï¼š:ï¼!ï¼Ÿ?ã€Œã€ã€ã€ã€ã€‘ã€Šã€‹ã€ˆã€‰""''â€¦â€”â€“\-_/\\|]/g, '')
      // ç§»é™¤è²¨å¹£ç¬¦è™Ÿ
      .replace(/[$ï¼„ï¿¥Â£â‚¬]/g, '')
      // ç§»é™¤å…¨å½¢è‹±æ•¸è½‰åŠå½¢
      .replace(/[ï¼¡-ï¼ºï½-ï½šï¼-ï¼™]/g, c =>
        String.fromCharCode(c.charCodeAt(0) - 0xFEE0));
  }

  /**
   * checkAnswer()ï¼šæª¢æŸ¥ä½¿ç”¨è€…ç­”æ¡ˆæ˜¯å¦ç¬¦åˆ
   * @param {string}   userInput  ä½¿ç”¨è€…è¼¸å…¥
   * @param {string[]} ansList    æ¥å—çš„ç­”æ¡ˆé™£åˆ—
   * @returns {boolean}
   *
   * ç‰¹æ®Šè¦å‰‡ï¼š
   * - ansList ç‚ºç©ºé™£åˆ— [] æˆ–åŒ…å« '*' â†’ ä»»ä½•éç©ºè¼¸å…¥å‡æ¥å—
   * - å¦å‰‡é€ä¸€æ¯”å° normalise å¾Œçš„å­—ä¸²ï¼ŒåŒ…å«å³ç®—é€šéï¼ˆsubstring matchï¼‰
   */
  function checkAnswer(userInput, ansList) {
    const trimmed = userInput.trim();
    // è‡ªç”±ç­”æ¡ˆæ¨¡å¼
    if (!ansList || ansList.length === 0 || ansList.includes('*')) {
      return trimmed.length > 0;
    }
    const norm = normalise(trimmed);
    return ansList.some(ans => {
      const normAns = normalise(ans);
      // é›™å‘ substring matchï¼šä½¿ç”¨è€…è¼¸å…¥åŒ…å«ç­”æ¡ˆ æˆ– ç­”æ¡ˆåŒ…å«ä½¿ç”¨è€…è¼¸å…¥
      return norm.includes(normAns) || normAns.includes(norm);
    });
  }

  /* ===================================================
     é€²åº¦å„²å­˜èˆ‡æ¢å¾©ï¼ˆlocalStorageï¼‰
  =================================================== */

  function saveProgress() {
    const data = {
      teamName:        STATE.teamName,
      group:           STATE.group,
      currentStation:  STATE.currentStation,
      stationProgress: STATE.stationProgress,
    };
    localStorage.setItem('mtrHunt2025_progress', JSON.stringify(data));
    localStorage.setItem('mtrHunt2025_group',    STATE.group);
  }

  function loadProgress() {
    try {
      const raw = localStorage.getItem('mtrHunt2025_progress');
      if (!raw) return null;
      return JSON.parse(raw);
    } catch (e) {
      return null;
    }
  }

  function clearProgress() {
    localStorage.removeItem('mtrHunt2025_progress');
    localStorage.removeItem('mtrHunt2025_group');
  }

  /* ===================================================
     åˆ†çµ„é¸æ“‡ï¼ˆç™»å…¥é ï¼‰
  =================================================== */
  let selectedGroup = '';

  function selectGroup(g) {
    selectedGroup = g;
    document.getElementById('groupA').classList.toggle('selected', g === 'A');
    document.getElementById('groupB').classList.toggle('selected', g === 'B');
  }

  /* ===================================================
     ç™»å…¥é‚è¼¯
  =================================================== */
  function handleLogin() {
    const nameInput = document.getElementById('teamNameInput').value.trim();
    const alertEl   = document.getElementById('loginAlert');

    // é©—è­‰è¼¸å…¥
    if (!nameInput) {
      alertEl.innerHTML = `<div class="alert alert-danger">âš ï¸ è«‹è¼¸å…¥éšŠä¼åç¨±ï¼</div>`;
      document.getElementById('teamNameInput').classList.add('error');
      return;
    }
    if (!selectedGroup) {
      alertEl.innerHTML = `<div class="alert alert-danger">âš ï¸ è«‹é¸æ“‡è·¯ç·šï¼ˆæ¸¯å³¶ç·š A çµ„ æˆ– æ±éµç·š B çµ„ï¼‰ï¼</div>`;
      return;
    }

    // æ¸…é™¤éŒ¯èª¤
    alertEl.innerHTML = '';
    document.getElementById('teamNameInput').classList.remove('error');

    // æª¢æŸ¥æ˜¯å¦æœ‰å·²å„²å­˜é€²åº¦
    const saved = loadProgress();
    if (saved && saved.group === selectedGroup && saved.teamName === nameInput) {
      // æ¢å¾©é€²åº¦
      STATE.teamName        = saved.teamName;
      STATE.group           = saved.group;
      STATE.currentStation  = saved.currentStation;
      STATE.stationProgress = saved.stationProgress;
      showToast(`ğŸ‰ å·²æ¢å¾©ã€Œ${nameInput}ã€çš„é€²åº¦ï¼`, 'success');
      showLoading(true);
      setTimeout(() => {
        showLoading(false);
        renderHome();
        showPage('home');
      }, 1200);
    } else {
      // å…¨æ–°é–‹å§‹
      STATE.teamName        = nameInput;
      STATE.group           = selectedGroup;
      STATE.currentStation  = 0;
      STATE.stationProgress = new Array(STATE.totalStations).fill(0);
      saveProgress();
      showLoading(true);
      setTimeout(() => {
        showLoading(false);
        renderHome();
        showPage('home');
      }, 1000);
    }
  }

  /* ===================================================
     è¿”å›é¦–é 
  =================================================== */
  function goHome() {
    renderHome();
    showPage('home');
  }

  /* ===================================================
     å–å¾—ç•¶å‰è·¯ç·šçš„ç«™é»è³‡æ–™
  =================================================== */
  function getStations() {
    return STATE.group === 'A' ? STATIONS_A : STATIONS_B;
  }

  /* ===================================================
     æ¸²æŸ“é¦–é 
  =================================================== */
  function renderHome() {
    const stations = getStations();
    const completed = STATE.stationProgress.filter(p => p >= 3).length;
    const remaining = STATE.totalStations - completed;
    const pct       = Math.round((completed / STATE.totalStations) * 100);

    // Hero å€åŸŸ
    document.getElementById('heroGreeting').textContent =
      `ä½ å¥½ï¼Œ${STATE.teamName}ï¼`;
    document.getElementById('heroTitle').textContent =
      STATE.group === 'A' ? 'ğŸŸ¢ æ¸¯å³¶ç·š A çµ„å†’éšª' : 'ğŸ”µ æ±éµç·š B çµ„å†’éšª';
    document.getElementById('statCompleted').textContent = completed;
    document.getElementById('statRemaining').textContent = remaining;
    document.getElementById('statGroup').textContent =
      STATE.group === 'A' ? 'A çµ„' : 'B çµ„';

    // é€²åº¦æ¢
    document.getElementById('progressPct').textContent     = pct + '%';
    document.getElementById('progressBarFill').style.width = pct + '%';
    document.getElementById('homeProgressText').textContent =
      `${completed} / ${STATE.totalStations} å®Œæˆ`;

    // ç«™é»åˆ—è¡¨
    const listEl = document.getElementById('stationList');
    listEl.innerHTML = '';

    const groupLabel = document.createElement('div');
    groupLabel.className = 'section-title';
    groupLabel.textContent =
      STATE.group === 'A' ? 'ğŸŸ¢ æ¸¯å³¶ç·š A çµ„ â€” 9 å€‹ CP' : 'ğŸ”µ æ±éµç·š B çµ„ â€” 9 å€‹ CP';
    listEl.appendChild(groupLabel);

    stations.forEach((st, idx) => {
      const prog    = STATE.stationProgress[idx] || 0;
      const isFirst = idx === 0;
      // è§£é–æ¢ä»¶ï¼šç¬¬ä¸€é—œæ°¸é è§£é–ï¼Œå…¶é¤˜éœ€å‰ä¸€é—œå®Œæˆï¼ˆprog[idx-1] >= 3ï¼‰
      const prevDone = idx === 0 || (STATE.stationProgress[idx - 1] >= 3);
      const isDone   = prog >= 3;
      const isUnlocked = prevDone && !isDone;
      const isLocked   = !prevDone && !isDone;

      let statusClass = '';
      let statusIcon  = '';
      if (isDone)      { statusClass = 'completed'; statusIcon = 'âœ…'; }
      else if (isUnlocked) { statusClass = 'unlocked'; statusIcon = 'â–¶ï¸'; }
      else             { statusClass = 'locked';    statusIcon = 'ğŸ”’'; }

      const card = document.createElement('div');
      card.className = `station-card ${statusClass} animate-fadeIn`;
      card.style.animationDelay = `${idx * 0.05}s`;

      const thumbHtml = st.imgUrl
        ? `<img class="station-thumb" src="${st.imgUrl}" alt="${st.imgAlt || st.name}" onerror="this.style.display='none'" />`
        : `<div class="station-thumb-placeholder">ğŸš‰</div>`;

      card.innerHTML = `
        ${thumbHtml}
        <div class="station-info">
          <div class="station-code">${st.code}</div>
          <div class="station-name">${st.name}</div>
          <div class="station-poem">${st.poem}</div>
        </div>
        <div class="station-status-icon">${statusIcon}</div>
      `;

      if (isUnlocked) {
        card.onclick = () => {
          STATE.currentStation = idx;
          renderStationDetail(idx);
          showPage('station');
        };
      }

      listEl.appendChild(card);
    });

    // æ‰€æœ‰é—œå¡å®Œæˆ â†’ é¡¯ç¤ºå‰å¾€è­‰æ›¸æŒ‰éˆ•
    if (completed === STATE.totalStations) {
      const certBtn = document.createElement('button');
      certBtn.className = 'btn btn-success animate-pulse';
      certBtn.style.margin = '16px 4px';
      certBtn.innerHTML = 'ğŸ† é ˜å–é€šé—œè­‰æ›¸ï¼';
      certBtn.onclick = renderCertificate;
      listEl.appendChild(certBtn);
    }
  }
</script>
<script>
  /* ===================================================
     æ¸²æŸ“ç«™é»è©³æƒ…é 
  =================================================== */
  function renderStationDetail(idx) {
    const stations = getStations();
    const st       = stations[idx];
    const prog     = STATE.stationProgress[idx] || 0;

    // å¼·åˆ¶ç½®é ‚
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // æ›´æ–°é ‚éƒ¨å°èˆª
    document.getElementById('stationTopTitle').textContent = st.code + ' ' + st.name;
    document.getElementById('stationProgressText').textContent =
      `${idx + 1} / ${STATE.totalStations}`;

    const container = document.getElementById('stationDetailContent');

    // å°é¢åœ–ç‰‡
    const heroHtml = st.imgUrl
      ? `<img class="station-hero-img" src="${st.imgUrl}"
             alt="${st.imgAlt || st.name}"
             onerror="this.outerHTML='<div class=\'station-hero-placeholder\'>ğŸš‰</div>'" />`
      : `<div class="station-hero-placeholder">ğŸš‰</div>`;

    // ç«™é»é ­éƒ¨è³‡è¨Š
    const headerHtml = `
      <div class="station-detail-header">
        <div class="station-detail-code">${st.code}</div>
        <div class="station-detail-name">${st.name}</div>
        <div class="station-detail-poem">${st.poem}</div>
      </div>
    `;

    // ç”Ÿæˆä¸‰å€‹æ­¥é©Ÿå¡ç‰‡
    const stepsHtml = buildStepsHtml(st, prog, idx);

    container.innerHTML = heroHtml + headerHtml +
      `<div class="steps-container">${stepsHtml}</div>`;
  }

  /* ===================================================
     å»ºæ§‹ä¸‰æ­¥é©Ÿ HTML
  =================================================== */
  function buildStepsHtml(st, prog, idx) {
    let html = '';

    /* ---------- Step 1ï¼šå¼•å­å•é¡Œ ---------- */
    const s1State = prog >= 1 ? 'done' : 'active';
    const s1Body  = prog >= 1
      ? `<div class="alert alert-success">âœ… å¼•å­å•é¡Œå·²è§£é–ï¼ç¹¼çºŒå‰å¾€é€šé—œä»»å‹™ã€‚</div>`
      : `
        <div class="step-question">â“ ${st.step1Question}</div>
        <div class="form-group">
          <label class="form-label">ğŸ“ ä½ çš„ç­”æ¡ˆ</label>
          <input class="form-input" type="text" id="s1input"
                 placeholder="è¼¸å…¥ç­”æ¡ˆå¾ŒæŒ‰æäº¤â€¦" />
        </div>
        <div id="s1alert"></div>
        <button class="btn btn-primary" onclick="submitStep1(${idx})">
          ğŸ”“ æäº¤å¼•å­ç­”æ¡ˆ
        </button>
      `;

    html += `
      <div class="step-card ${s1State}" id="stepCard1">
        <div class="step-header">
          <div class="step-num">${prog >= 1 ? 'âœ“' : '1'}</div>
          <div class="step-title">ğŸ”‘ Step 1 â€” å¼•å­å•é¡Œ</div>
          <div class="step-badge">
            <span class="badge ${prog >= 1 ? 'badge-green' : 'badge-red'}">
              ${prog >= 1 ? 'å·²è§£é–' : 'é€²è¡Œä¸­'}
            </span>
          </div>
        </div>
        <div class="step-body">${s1Body}</div>
      </div>
    `;

    /* ---------- Step 2ï¼šé€šé—œä»»å‹™ ---------- */
    const s2State = prog >= 2 ? 'done' : prog >= 1 ? 'active' : 'locked-step';
    const s2Body  = prog < 1
      ? `<div class="alert alert-info">ğŸ”’ è«‹å…ˆå®Œæˆå¼•å­å•é¡Œæ‰èƒ½è§£é–æ­¤æ­¥é©Ÿã€‚</div>`
      : prog >= 2
        ? `<div class="alert alert-success">âœ… é€šé—œä»»å‹™å·²å®Œæˆï¼å‰å¾€æ‹ç…§ä»»å‹™ã€‚</div>`
        : `
          <div class="step-question">ğŸ“‹ ${st.step2Task}</div>
          <div class="form-group">
            <label class="form-label">ğŸ“ ä½ çš„ç­”æ¡ˆ</label>
            <input class="form-input" type="text" id="s2input"
                   placeholder="è¼¸å…¥é€šé—œä»»å‹™ç­”æ¡ˆâ€¦" />
          </div>
          <div id="s2alert"></div>
          <button class="btn btn-secondary" onclick="submitStep2(${idx})">
            ğŸ”“ æäº¤é€šé—œç­”æ¡ˆ
          </button>
        `;

    html += `
      <div class="step-card ${s2State}" id="stepCard2">
        <div class="step-header">
          <div class="step-num">${prog >= 2 ? 'âœ“' : '2'}</div>
          <div class="step-title">ğŸ¯ Step 2 â€” é€šé—œä»»å‹™</div>
          <div class="step-badge">
            <span class="badge ${prog >= 2 ? 'badge-green' : prog >= 1 ? 'badge-blue' : 'badge-grey'}">
              ${prog >= 2 ? 'å·²å®Œæˆ' : prog >= 1 ? 'é€²è¡Œä¸­' : 'æœªè§£é–'}
            </span>
          </div>
        </div>
        <div class="step-body">${s2Body}</div>
      </div>
    `;

    /* ---------- Step 3ï¼šæ‹ç…§ä»»å‹™ + é€šé—œå¯†èª ---------- */
    const s3State = prog >= 3 ? 'done' : prog >= 2 ? 'active' : 'locked-step';
    const s3Body  = prog < 2
      ? `<div class="alert alert-info">ğŸ”’ è«‹å…ˆå®Œæˆé€šé—œä»»å‹™æ‰èƒ½è§£é–æ­¤æ­¥é©Ÿã€‚</div>`
      : prog >= 3
        ? `
          <div class="alert alert-success">ğŸ‰ æœ¬é—œå…¨éƒ¨å®Œæˆï¼</div>
          <div class="password-reveal">
            <div class="password-label">ğŸ—ï¸ æœ¬é—œé€šé—œå¯†èª</div>
            <div class="password-value">${st.password}</div>
          </div>
          <div style="margin-top:16px;">
            <button class="btn btn-success" onclick="proceedNext(${idx})">
              â¡ï¸ å‰å¾€ä¸‹ä¸€é—œ
            </button>
          </div>
        `
        : `
          <div class="step-photo-task">ğŸ“¸ æ‹ç…§ä»»å‹™ï¼š${st.step3Photo}</div>
          <div class="alert alert-warning" style="margin-bottom:14px;">
            å®Œæˆæ‹ç…§å¾Œï¼ŒæŒ‰ä¸‹æ–¹æŒ‰éˆ•è§£é–æœ¬é—œé€šé—œå¯†èªã€‚
          </div>
          <div id="s3alert"></div>
          <button class="btn btn-success" onclick="submitStep3(${idx})">
            ğŸ“· å·²å®Œæˆæ‹ç…§ï¼Œè§£é–å¯†èªï¼
          </button>
        `;

    html += `
      <div class="step-card ${s3State}" id="stepCard3">
        <div class="step-header">
          <div class="step-num">${prog >= 3 ? 'âœ“' : '3'}</div>
          <div class="step-title">ğŸ“¸ Step 3 â€” æ‹ç…§ä»»å‹™</div>
          <div class="step-badge">
            <span class="badge ${prog >= 3 ? 'badge-green' : prog >= 2 ? 'badge-gold' : 'badge-grey'}">
              ${prog >= 3 ? 'å·²å®Œæˆ' : prog >= 2 ? 'é€²è¡Œä¸­' : 'æœªè§£é–'}
            </span>
          </div>
        </div>
        <div class="step-body">${s3Body}</div>
      </div>
    `;

    return html;
  }

  /* ===================================================
     Step 1 æäº¤ï¼ˆå¼•å­å•é¡Œï¼‰
  =================================================== */
  function submitStep1(idx) {
    const stations = getStations();
    const st       = stations[idx];
    const input    = document.getElementById('s1input');
    const alertEl  = document.getElementById('s1alert');

    if (!input) return;
    const val = input.value.trim();

    if (!val) {
      alertEl.innerHTML = `<div class="alert alert-danger">âš ï¸ è«‹å…ˆè¼¸å…¥ç­”æ¡ˆï¼</div>`;
      input.classList.add('error');
      return;
    }

    if (checkAnswer(val, st.step1Ans)) {
      // ç­”æ¡ˆæ­£ç¢º
      input.classList.remove('error');
      input.classList.add('success');
      alertEl.innerHTML = `<div class="alert alert-success">âœ… æ­£ç¢ºï¼å¼•å­å•é¡Œå·²è§£é–ï¼Œç¹¼çºŒä¸‹ä¸€æ­¥ï¼</div>`;
      STATE.stationProgress[idx] = 1;
      saveProgress();
      // çŸ­æš«å»¶é²å¾Œé‡æ–°æ¸²æŸ“ï¼Œä¸¦ç½®é ‚
      setTimeout(() => {
        renderStationDetail(idx);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 900);
    } else {
      // ç­”æ¡ˆéŒ¯èª¤
      input.classList.add('error');
      alertEl.innerHTML = `<div class="alert alert-danger">âŒ ç­”æ¡ˆä¸å°ï¼Œå†æƒ³æƒ³çœ‹ï¼</div>`;
      // è¼•å¾®éœ‡å‹•æç¤ºï¼ˆè‹¥è¨­å‚™æ”¯æ´ï¼‰
      if (navigator.vibrate) navigator.vibrate([80, 40, 80]);
    }
  }

  /* ===================================================
     Step 2 æäº¤ï¼ˆé€šé—œä»»å‹™ï¼‰
  =================================================== */
  function submitStep2(idx) {
    const stations = getStations();
    const st       = stations[idx];
    const input    = document.getElementById('s2input');
    const alertEl  = document.getElementById('s2alert');

    if (!input) return;
    const val = input.value.trim();

    if (!val) {
      alertEl.innerHTML = `<div class="alert alert-danger">âš ï¸ è«‹å…ˆè¼¸å…¥ç­”æ¡ˆï¼</div>`;
      input.classList.add('error');
      return;
    }

    if (checkAnswer(val, st.step2Ans)) {
      input.classList.remove('error');
      input.classList.add('success');
      alertEl.innerHTML = `<div class="alert alert-success">âœ… å‡ºè‰²ï¼é€šé—œä»»å‹™å®Œæˆï¼Œè§£é–æ‹ç…§ä»»å‹™ï¼</div>`;
      STATE.stationProgress[idx] = 2;
      saveProgress();
      setTimeout(() => {
        renderStationDetail(idx);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 900);
    } else {
      input.classList.add('error');
      alertEl.innerHTML = `<div class="alert alert-danger">âŒ ç­”æ¡ˆä¸å°ï¼Œå†è©¦ä¸€æ¬¡ï¼</div>`;
      if (navigator.vibrate) navigator.vibrate([80, 40, 80]);
    }
  }

  /* ===================================================
     Step 3 æäº¤ï¼ˆæ‹ç…§ä»»å‹™ â€” ç›´æ¥é€šéï¼‰
  =================================================== */
  function submitStep3(idx) {
    STATE.stationProgress[idx] = 3;
    saveProgress();
    fireConfetti();
    showToast('ğŸ‰ æ­å–œå®Œæˆæœ¬é—œï¼é€šé—œå¯†èªå·²è§£é–ï¼', 'success', 3000);
    setTimeout(() => {
      renderStationDetail(idx);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }, 600);
  }

  /* ===================================================
     å‰å¾€ä¸‹ä¸€é—œ
  =================================================== */
  function proceedNext(idx) {
    const nextIdx = idx + 1;
    // å¼·åˆ¶ç½®é ‚
    window.scrollTo({ top: 0, behavior: 'smooth' });

    if (nextIdx >= STATE.totalStations) {
      // å…¨éƒ¨å®Œæˆ â†’ é¡¯ç¤ºè­‰æ›¸
      showToast('ğŸ† æ‰€æœ‰é—œå¡å®Œæˆï¼é ˜å–ä½ çš„é€šé—œè­‰æ›¸ï¼', 'success', 3000);
      fireConfetti();
      setTimeout(() => {
        renderCertificate();
        showPage('certificate');
      }, 800);
    } else {
      // å‰å¾€ä¸‹ä¸€é—œ
      STATE.currentStation = nextIdx;
      showToast(`â¡ï¸ å‰å¾€ ${getStations()[nextIdx].code}ï¼`, 'info', 2000);
      saveProgress();
      setTimeout(() => {
        renderStationDetail(nextIdx);
        showPage('station');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 500);
    }
  }

  /* ===================================================
     æ¸²æŸ“é€šé—œè­‰æ›¸
  =================================================== */
  function renderCertificate() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
    fireConfetti();

    const groupName = STATE.group === 'A' ? 'æ¸¯å³¶ç·š A çµ„' : 'æ±éµç·š B çµ„';
    const completed = STATE.stationProgress.filter(p => p >= 3).length;

    const html = `
      <div class="cert-title-top">ğŸ… é€šé—œè­‰æ›¸</div>
      <div class="cert-card">
        <div class="cert-emblem">ğŸ†</div>
        <div class="cert-header-text">
          <div class="cert-main-title">æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</div>
          <div class="cert-sub-title">MTR TREASURE HUNT 2025</div>
        </div>
        <div class="cert-divider"></div>
        <div class="cert-recipient-label">é ’ç™¼çµ¦</div>
        <div class="cert-recipient-name">${STATE.teamName}</div>
        <div class="cert-group-name">${groupName}</div>
        <div class="cert-body-text">
          æ­å–œé–£ä¸‹æˆåŠŸå®Œæˆ<br>
          <strong>æ¸¯éµå°‹å¯¶å¤§å†’éšª 2025</strong><br>
          æ²¿é€”æ¢ç´¢é¦™æ¸¯æ­·å²èˆ‡æ–‡åŒ–åœ°æ¨™<br>
          å±•ç¾åœ˜éšŠç²¾ç¥ï¼Œå‹‡é—–æ‰€æœ‰é—œå¡ï¼
        </div>
        <div class="cert-divider"></div>
        <div class="cert-stats-row">
          <div class="cert-stat">
            <div class="cert-stat-num">${completed}</div>
            <div class="cert-stat-label">å®Œæˆé—œå¡</div>
          </div>
          <div class="cert-stat">
            <div class="cert-stat-num">9</div>
            <div class="cert-stat-label">ç¸½é—œå¡æ•¸</div>
          </div>
          <div class="cert-stat">
            <div class="cert-stat-num">100%</div>
            <div class="cert-stat-label">å®Œæˆç‡</div>
          </div>
        </div>
        <div class="cert-divider"></div>
        <div class="cert-footer">
          <div>
            <div class="cert-date">æ—¥æœŸï¼š2025å¹´2æœˆ28æ—¥</div>
            <div class="cert-signature">æ¸¯éµå°‹å¯¶å¤§å†’éšª<br>æ´»å‹•ç±Œå§”æœƒ</div>
          </div>
          <div class="cert-seal">ğŸ–ï¸</div>
        </div>
      </div>
      <div class="cert-actions">
        <button class="btn btn-primary" onclick="goHome()">
          ğŸ  è¿”å›ä¸»é 
        </button>
        <button class="btn btn-ghost" onclick="clearProgress(); showPage('login');">
          ğŸ”„ é‡æ–°é–‹å§‹
        </button>
      </div>
    `;

    document.getElementById('certificateContent').innerHTML = html;
    showPage('certificate');
  }
</script>
<script>
  /* ===================================================
     A çµ„ â€” æ¸¯å³¶ç·šç«™é»æ•¸æ“šï¼ˆA1â€“A5ï¼‰
  =================================================== */
  const STATIONS_A = [

    /* -------- A1ï¼šç­²ç®•ç£é¿é¢¨å¡˜ -------- */
    {
      code:          'A1',
      name:          'ç­²ç®•ç£é¿é¢¨å¡˜',
      imgUrl:        'images/a1.jpg',
      imgAlt:        'ğŸ“· ç­²ç®•ç£é¿é¢¨å¡˜ï¼šæ¼èˆ¹èˆ‡è‰‡å±‹æ—ç«‹çš„é¦™æ¸¯å‚³çµ±æ¼æ¸¯',
      poem:          'é¿é¢¨å¡˜å…§èˆ¹éš±è—ï¼Œæµ·é‚ŠèˆŠæ—¥è¨´æ¼æ•…äº‹ã€‚',

      // Step 1ï¼šå¼•å­å•é¡Œ
      step1Question: 'è«‹å‰å¾€ç­²ç®•ç£å·´å£«ç¸½ç«™ï¼Œç«™åœ¨å·´å£«ç«™ç‰Œä¸€å´ï¼ˆä»¥æŒ‡å®šåœ–ç‰‡è¦–è§’ç‚ºæº–ï¼‰ï¼Œç”±å³è‡³å·¦æ•¸ç«™ç‰Œï¼Œç”±å³èµ·ç¬¬å››å€‹å·´å£«ç¸½ç«™ï¼Œè¨˜éŒ„è©²è·¯ç·šçš„å·´å£«è™Ÿç¢¼åŠçµ‚é»ç«™åç¨±ã€‚ï¼ˆè«‹åŒæ™‚å¡«å¯«è™Ÿç¢¼åŠçµ‚é»ç«™ï¼Œä¾‹ï¼š1A éŠ…é‘¼ç£ï¼‰',
      step1Ans:      ['608ä¹é¾åŸ', '608 ä¹é¾åŸ', '608,ä¹é¾åŸ',
                      '1.608 2.ä¹é¾åŸ', '1608 2ä¹é¾åŸ',
                      'è™Ÿç¢¼608 çµ‚é»ä¹é¾åŸ', '608', 'ä¹é¾åŸ'],

      // Step 2ï¼šé€šé—œä»»å‹™
      step2Task:     'æ²¿æµ·æ¿±é•·å»Šæ­¥è¡Œè‡³ç­²ç®•ç£é¿é¢¨å¡˜ï¼Œå°‹æ‰¾ä»‹ç´¹ç­²ç®•ç£åŠé°‚é­šæ¶Œçš„è³‡è¨Šç‰Œï¼Œä¸¦å¡«å¯«ä»¥ä¸‹å¥å­çš„ç©ºæ ¼ï¼šã€Œå¤ªå¤æ´‹è¡Œæ—©æ–¼ä¸€å…«å…«å››å¹´å·²åœ¨é°‚é­šæ¶Œè¨­ç«‹ç³–å» ï¼Œä¸€ä¹é›¶ä¸ƒå¹´æ›´å»ºæˆå¤ªå¤ ______ï¼Œä¸¦èˆˆå»ºè·å·¥å®¿èˆï¼Œä¿ƒé€²äº†æ­¤å€çš„ç™¼å±•ã€‚ã€',
      step2Ans:      ['èˆ¹å¡¢', 'å¤ªå¤èˆ¹å¡¢', 'å¤ªå¤èˆ¹å¡¢.'],

      // Step 3ï¼šæ‹ç…§ä»»å‹™
      step3Photo:    'å…¨çµ„ä»¥æœ€å…·å€‹æ€§çš„æ¼èˆ¹æˆ–è‰‡å±‹ç‚ºèƒŒæ™¯ï¼Œæ“ºå‡ºã€Œç™¼ç¾æµ·å¯¶ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'HarbourHunt',
    },

    /* -------- A2ï¼šæ„›ç§©åºç£å…¬åœ’ -------- */
    {
      code:          'A2',
      name:          'æ„›ç§©åºç£å…¬åœ’',
      imgUrl:        'images/a2.jpg',
      imgAlt:        'ğŸ“· æ„›ç§©åºç£å…¬åœ’ï¼šæ¼æ‘ä¸»é¡Œè£ç½®èˆ‡1:1æ¯”ä¾‹æ¼èˆ¹æ¨¡å‹',
      poem:          'é¿é¢¨å¡˜å¤–æµªè²é ï¼Œæ„›ç§©åºç£è—æ¼æ‘å¤¢ã€‚',

      step1Question: 'é›¢é–‹å‰ï¼Œç”¨ä¸€åˆ†é˜çš„æ™‚é–“ï¼Œè§€å¯Ÿæµ·é¢åŠå²¸é‚Šï¼Œè¨˜éŒ„ç›®å‰åœæ³Šåœ¨æ¸¯å…§çš„æ¼èˆ¹ï¼è‰‡å±‹ç¸½æ•¸é‡ã€‚ï¼ˆä»¥å¯¦éš›æ•¸å­—ä½œç­”ï¼Œä»»ä½•åˆç†æ•¸ç›®å‡æ¥å—ï¼‰',
      step1Ans:      ['*'],

      step2Task:     'å‰å¾€æ„›ç§©åºç£å…¬åœ’ï¼Œå°‹æ‰¾ 1:1 æ¯”ä¾‹çš„æ¼èˆ¹æ¨¡å‹ï¼š\n1. è§€å¯Ÿæ¨¡å‹æ—æ°´æ± å…§çš„èˆ¹éš»ç¸½æ•¸ï¼ˆåŒ…æ‹¬å¤§æ¼èˆ¹åŠå°è‰‡ï¼‰ï¼Œè¨˜éŒ„æ•¸é‡ã€‚\n2. è¨˜éŒ„è©²è£ç½®ä¸»è¦ä½¿ç”¨çš„æè³ªï¼ˆä¾‹å¦‚ï¼šæœ¨ã€é‡‘å±¬ç­‰ï¼‰ã€‚',
      step2Ans:      ['3', '3è‰˜', 'ä¸‰', 'ä¸‰è‰˜',
                      'æœ¨', 'æœ¨æ', 'æœ¨é ­',
                      '3è‰˜æœ¨', '3æœ¨', 'ä¸‰è‰˜æœ¨'],

      step3Photo:    'å…¨çµ„åœ¨æ¼æ‘ä¸»é¡Œè£ç½®æ—ï¼Œæ“ºå‡ºã€Œæ¼æ‘æ™‚å…‰ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'FishingDream',
    },

    /* -------- A3ï¼šå¤ªå®‰æ¨“ -------- */
    {
      code:          'A3',
      name:          'å¤ªå®‰æ¨“',
      imgUrl:        'images/a3.jpg',
      imgAlt:        'ğŸ“· å¤ªå®‰æ¨“ï¼šé¦™æ¸¯æ±å€åœ°é“å°é£Ÿé›†ä¸­åœ°',
      poem:          'èˆŠæ¨“å•†å ´è—å°é£Ÿæ—ï¼Œåœ°é“å‘³é“å®ˆæ±å€ã€‚',

      step1Question: 'è«‹å‰å¾€åº§æ¨™ 22.280434, 114.224413 é™„è¿‘çš„é›»è»Šç«™ã€‚å‡è¨­ä¹˜åå¾€ä¸Šç’°æ–¹å‘çš„é›»è»Šï¼Œè«‹å¯«å‡ºï¼šç”±æœ¬ç«™é–‹å§‹ï¼Œå¾€ä¸Šç’°æ–¹å‘çš„ã€Œç¬¬äº”å€‹ã€é›»è»Šç«™åç¨±ï¼ˆè‹±æ–‡ç«™åï¼‰ã€‚',
      step1Ans:      ['èˆ¹å¡¢é‡Œ', 'shipyardlane', 'shipyard lane',
                      'shipyard', 'èˆ¹å¡¢'],

      step2Task:     'åœ¨å¤ªå®‰æ¨“å°é£Ÿä¸–ç•Œå…§ï¼Œå°‹æ‰¾æŒ‡å®šåº—èˆ–ã€Œâ—‹â—‹å°é£Ÿã€ï¼Œä¸¦è¨˜éŒ„ï¼š\n1. åº—èˆ–ä¸­æ–‡æ‹›ç‰Œçš„ç¸½å­—æ•¸ï¼›\n2. åº—åæœ€å¾Œä¸€å€‹ä¸­æ–‡å­—ã€‚',
      step2Ans:      ['4', 'å››', '4å€‹', 'å››å€‹',
                      'é£Ÿ', 'é˜¿æ˜å°é£Ÿ', '4é£Ÿ',
                      '1.4 2.é£Ÿ', '14', 'å››é£Ÿ'],

      step3Photo:    'å…¨çµ„åœ¨è©²å°é£Ÿåº—å‰ï¼Œæ‰‹æŒæˆ–æ¨¡æ“¬æ‰‹æŒå°é£Ÿï¼Œæ“ºå‡ºã€Œå“åšéš±è—å¯¶ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'SnackTreasure',
    },

    /* -------- A4ï¼šå¤ªå¤å…¬åœ’ -------- */
    {
      code:          'A4',
      name:          'å¤ªå¤å…¬åœ’',
      imgUrl:        'images/a4.jpg',
      imgAlt:        'ğŸ“· å¤ªå¤å…¬åœ’ï¼šå¤ªå¤åŸä¸­å¿ƒæ—çš„éš±è—ç¶ æ´²',
      poem:          'å¤ªå¤åŸä¸­ç¶ æ„å¯¶ï¼Œéš±è—å…¬åœ’å®ˆå¯§éœã€‚',

      step1Question: 'è«‹åœ¨åœ°åœ–ä¸Šæ‰¾å‡ºæœ€è¿‘çš„å¤ªå¤å…¬åœ’å…¥å£ï¼Œä¸¦ä¼°è¨ˆï¼šç”±ç›®å‰ä½ç½®ï¼ˆåœ°éµç«™å‡ºé–˜ä½ç½®ï¼‰æ­¥è¡Œè‡³è©²å…¬åœ’å…¥å£å¤§ç´„éœ€è¦å¤šå°‘åˆ†é˜ï¼Œå¯«ä¸‹é è¨ˆæ™‚é–“ã€‚',
      step1Ans:      ['5', '6', '7', '8', '9', '10',
                      '5åˆ†é˜', '6åˆ†é˜', '7åˆ†é˜', '8åˆ†é˜',
                      '9åˆ†é˜', '10åˆ†é˜',
                      '5-10', '5è‡³10', '5åˆ°10',
                      '5â€“10åˆ†é˜', 'ç´„5', 'ç´„10'],

      step2Task:     'åœ¨å¤ªå¤å…¬åœ’å…§ï¼Œé¸æ“‡ä¸€å€‹å¯å®‰å…¨èººä¸‹ä¸”ä¸é˜»ç¤™ä»–äººçš„å…¬å…±è¨­æ–½æˆ–ä½ç½®ï¼ˆä¾‹å¦‚é•·æ¤…ã€å¹³å°ã€å·²é‹ªåœ°å¢Šçš„è‰åœ°ï¼‰ï¼šå…¨çµ„éœ€åœ¨è©²ä½ç½®èººä¸‹é€£çºŒ 5 åˆ†é˜ï¼Œå…¶é–“åªå¯è¼•è²äº¤è«‡ï¼Œæˆ–éœéœè†è½å‘¨åœè²éŸ³ï¼ˆå¦‚é¢¨è²ã€äººè²ã€é³¥è²ç­‰ï¼‰ã€‚å®Œæˆå¾ŒæŒ‰æäº¤ã€‚',
      step2Ans:      ['*'],

      step3Photo:    '5 åˆ†é˜å®Œæˆå¾Œï¼Œå…¨çµ„åœ¨åŸä½ç½®æˆ–é™„è¿‘ï¼Œä»¥ã€Œèººå¹³ä¹Ÿç®—åŠªåŠ›ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'RelaxEffort',
    },

    /* -------- A5ï¼šå¥åº·é‚¨éŠæ¨‚å ´ -------- */
    {
      code:          'A5',
      name:          'å¥åº·é‚¨éŠæ¨‚å ´',
      imgUrl:        'images/a5.jpg',
      imgAlt:        'ğŸ“· å¥åº·é‚¨éŠæ¨‚å ´ï¼šåŒ—è§’ç¤¾å€ä¸­å……æ»¿ç«¥è¶£çš„éŠæ¨‚è¨­æ–½',
      poem:          'ä¸ƒå§Šå¦¹é“è—ç«¥è¶£ï¼Œç¤¾å€è§’è½æœ‰éŠæ¨‚å¯¶ã€‚',

      step1Question: 'é—œæ–¼ã€Œä¸ƒå§Šå¦¹é“ã€åœ°åæœ€å¸¸è¦‹çš„æ°‘é–“å‚³èªªï¼Œè«‹é¸æ“‡æœ€ç¬¦åˆçš„ä¸€é …ï¼ˆå–®é¸ï¼‰ï¼š\nA. ä¸ƒä½æ…ˆå–„å®¶åœ¨æ­¤è¨­ç«‹å­¤å…’é™¢ï¼Œå¾Œäººç‚ºç´€å¿µè€Œå‘½åï¼›\nB. ä¸ƒä½æƒ…åŒæ‰‹è¶³çš„æ¼å®¶å§å¦¹ç‚ºé€ƒå©šæŠ•æµ·æ®‰ç¯€è€Œå¾—åï¼›\nC. ä¸ƒä½ä¿®å¥³åœ¨æ­¤å»ºç«‹å¤©ä¸»æ•™å­¸æ ¡è€Œå¾—åï¼›\nD. ä¸ƒä½æœ¬åœ°å¥³å•†äººåœ¨æ­¤åˆè³‡é–‹è¾¦å·¥å» è€Œèåã€‚',
      step1Ans:      ['b', 'b.', 'é¸b', 'ç­”b',
                      'ä¸ƒä½æƒ…åŒæ‰‹è¶³', 'æ¼å®¶å§å¦¹', 'é€ƒå©šæŠ•æµ·',
                      'bä¸ƒä½æƒ…åŒæ‰‹è¶³çš„æ¼å®¶å§å¦¹ç‚ºé€ƒå©šæŠ•æµ·æ®‰ç¯€è€Œå¾—å'],

      step2Task:     'åœ¨å¥åº·é‚¨éŠæ¨‚å ´å…§ï¼Œè«‹åˆ°é”ç›¸ç‰‡ä¸­çš„ä½ç½®ï¼Œå…¨å“¡æ‹¿ç€æ‰‹æ©Ÿæ“ºå‡ºæœæ‹ç…§è€…ï¼Œåšå‡ºæ‹ç…§çš„å‹•ä½œã€‚å®Œæˆå¾ŒæŒ‰æäº¤ã€‚',
      step2Ans:      ['*'],

      step3Photo:    'å…¨çµ„åœ¨è©²éŠæ¨‚è¨­æ–½æ—ï¼Œæ“ºå‡ºã€Œç«¥å¿ƒå…¨é–‹ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'ChildhoodJoy',
    },

  ]; // STATIONS_A å‰åŠæ®µçµæŸï¼ˆA1â€“A5ï¼‰
</script>
<script>
  /* ===================================================
     A çµ„ â€” æ¸¯å³¶ç·šç«™é»æ•¸æ“šï¼ˆA6â€“A9ï¼‰
     çºŒæ¥ STATIONS_A é™£åˆ—
  =================================================== */
  STATIONS_A.push(

    /* -------- A6ï¼šæ²¹è¡—å¯¦ç¾ -------- */
    {
      code:          'A6',
      name:          'æ²¹è¡—å¯¦ç¾',
      imgUrl:        'images/a6.jpg',
      imgAlt:        'ğŸ“· æ²¹è¡—å¯¦ç¾ï¼šåŒ—è§’èˆŠçš‡å®¶éŠè‰‡æœƒæ‰€æ´»åŒ–æˆçš„ç•¶ä»£è—è¡“ç©ºé–“',
      poem:          'èˆŠå€‰åº«è®Šèº«è—è¡“å¯¶åº«ï¼Œæ²¹è¡—éš±è—å‰µæ„éˆé­‚ã€‚',

      step1Question: 'åœ¨åŒ—è§’æµ·æ¿±èŠ±åœ’è‡¨æµ·æ¬„æ†ï¼Œè«‹æ‰¾åˆ°ä»¥ä¸‹åœ–ç‰‡çš„å°æ‡‰ä½ç½®ä¸¦å›ç­”ï¼šè©²ä½ç½®çš„åŒ—æ–¹æ˜¯ä»€éº¼ï¼Ÿ',
      step1Ans:      ['å•Ÿå¾·', 'å•Ÿå¾·æ©Ÿå ´', 'å•Ÿå¾·ç™¼å±•å€',
                      'kaitak', 'kai tak',
                      'å•Ÿå¾·å€', 'èˆŠå•Ÿå¾·'],

      step2Task:     'åœ¨æ²¹è¡—å¯¦ç¾å®¤å¤–ï¼Œå°‹æ‰¾æŒ‡å®šçš„å…¬å…±è—è¡“ä½œå“ï¼Œå›ç­”å±•å“çš„è¨­è¨ˆå¸«æ˜¯èª°ã€‚',
      step2Ans:      ['ä¼Šè—¤å½¥å­', 'é™³å½¥',
                      'hikokoito', 'hikokochan',
                      'hikoko', 'ito', 'chan',
                      'ä¼Šè—¤', 'å½¥å­'],

      step3Photo:    'å…¨çµ„åœ¨è©²ä½œå“å‰ï¼Œæ“ºå‡ºã€Œè—è¡“å°‹å¯¶ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'ArtQuest',
    },

    /* -------- A7ï¼šç¶­å¤šåˆ©äºå…¬åœ’ -------- */
    {
      code:          'A7',
      name:          'ç¶­å¤šåˆ©äºå…¬åœ’',
      imgUrl:        'images/a7.jpg',
      imgAlt:        'ğŸ“· ç¶­å¤šåˆ©äºå…¬åœ’ï¼šéŠ…é‘¼ç£å¸‚ä¸­å¿ƒæœ€å¤§ç¶ è‚ºèˆ‡ç¶­å¤šåˆ©äºå¥³ç‹åƒ',
      poem:          'ç¶­å¤šåˆ©äºå®ˆé¬§å¸‚ï¼Œç¶ è”­å°å¾‘è—å¯§éœã€‚',

      step1Question: 'åœ¨ç¶­å¤šåˆ©äºå…¬åœ’å¤–åœï¼Œæ‰¾åˆ°ä¸€æ£µæ¨¹æ ¹æ˜é¡¯ä¼¸å‡ºåœ°é¢çš„è€æ¨¹ï¼Œè¨˜éŒ„è©²æ¨¹æ—æœ€è¿‘çš„ä¸€æ”¯ç‡ˆæŸ±ç·¨è™Ÿã€‚',
      step1Ans:      ['43780', '43780è™Ÿ', 'ç‡ˆæŸ±43780',
                      'lamp43780', '43780ç‡ˆæŸ±'],

      step2Task:     'åœ¨ç¶­å¤šåˆ©äºå…¬åœ’çš„ç¶­å¤šåˆ©äºåƒå¾Œæœ‰è‹¥å¹²æ£µæ•´é½Šæ’åˆ—çš„æ¨¹ï¼Œè«‹å›ç­”æ¨¹çš„å“ç¨®åŠæ•¸é‡ã€‚ï¼ˆæ ¼å¼ä¾‹ï¼šè˜‹æœæ¨¹85ï¼‰',
      step2Ans:      ['æ£•æ«šæ¨¹30', 'æ£•æ«šæ¨¹ 30',
                      'æ£•æ«š30', '30æ£•æ«šæ¨¹',
                      '30æ£•æ«š', 'æ£•æ«š', '30',
                      'ä¸‰å', 'ä¸‰åæ£µæ£•æ«šæ¨¹',
                      'palmtree30', 'palm30'],

      step3Photo:    'å…¨çµ„åœ¨å™´æ°´æ± å‰ï¼Œæ“ºå‡ºã€Œå™´æ³‰è¨±é¡˜ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'FountainWish',
    },

    /* -------- A8ï¼šå¤©åå¾Œå·· -------- */
    {
      code:          'A8',
      name:          'å¤©åå¾Œå··',
      imgUrl:        'images/a8.jpg',
      imgAlt:        'ğŸ“· å¤©åå¾Œå··ï¼šå¤§å‘è“®èŠ±å®®é™„è¿‘å……æ»¿æ­·å²æ„Ÿçš„èˆŠå€å¾Œå··',
      poem:          'å¤§å‘è“®èŠ±å®ˆèˆŠæ‘ï¼Œå¥³ç¥éˆæ°£è—ç«é¾ã€‚',

      step1Question: 'åœ¨è“®èŠ±å®®å¤–ï¼Œæœ‰æ•¸å‰‡å°è¯ï¼Œè«‹å›ç­”ï¼ˆé¢å‘è“®èŠ±å®®æ–¹å‘ï¼‰å³æ‰‹é‚Šå°è¯ã€‚',
      step1Ans:      ['é–‹çª—è‡¨æµ·é¢é–‰æœˆåˆ°é¾æ´²',
                      'é–‹çª—è‡¨æµ·é¢', 'é–‰æœˆåˆ°é¾æ´²',
                      'é–‹çª—è‡¨æµ·é¢ï¼Œé–‰æœˆåˆ°é¾æ´²',
                      'é–‹çª—è‡¨æµ·é¢,é–‰æœˆåˆ°é¾æ´²',
                      'é–‹çª—è‡¨æµ·', 'è‡¨æµ·é¢', 'é¾æ´²'],

      step2Task:     'å‰å¾€è–å…¬æœƒè–ç‘ªåˆ©äºå ‚ï¼ˆç”±å»ºç¯‰å¸«å‘¨è€€å¹´åŠæç¦®ä¹‹è¨­è¨ˆï¼Œæ–¼ 1937 å¹´è½æˆï¼‰ï¼Œåœ¨æ•™å ‚å¤–è§€æŒ‡å®šä½ç½®åœç•™ï¼Œè§€å¯Ÿå»ºç¯‰ç´°ç¯€ï¼Œå›ç­”ä»¥ä¸‹å•é¡Œï¼šè–å…¬æœƒè–é¦¬åˆ©äºå ‚æ˜¯é¦™æ¸¯è–å…¬æœƒåœ¨æ¸¯å³¶æ±å€ç™¼å±•çš„ã€Œç¬¬ä¸€æ‰€ã€æ•™æœƒï¼Œå¸¸è¢«å½¢å®¹ç‚º_______ã€‚ï¼ˆæç¤ºï¼šå››å­—è©ï¼‰',
      step2Ans:      ['å±±ä¸Šä¹‹åŸ',
                      'å±±ä¸Šä¹‹åŸ.',
                      'cityonahill',
                      'city on a hill',
                      'å±±ä¸Š', 'ä¹‹åŸ'],

      step3Photo:    'å…¨çµ„åœ¨æ•™å ‚é–€å£æˆ–å¤–ç‰†å‰ï¼Œæ“ºå‡ºã€Œå®ˆè­·æ­·å²ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'HistoryGuard',
    },

    /* -------- A9ï¼šç£ä»”åˆ©æ±è¡—+æ³°æºè¡— -------- */
    {
      code:          'A9',
      name:          'ç£ä»”åˆ©æ±è¡—+æ³°æºè¡—',
      imgUrl:        'images/a9.jpg',
      imgAlt:        'ğŸ“· ç£ä»”åˆ©æ±è¡—ï¼šç´…ç‡ˆç± é«˜æ›çš„æ‰“å¡ç†±é»èˆ‡æ³°æºè¡—å¾©å¤ç©å…·åº—',
      poem:          'å©šå¡èˆŠè¡—é‡ç”Ÿåœ°ï¼ŒèˆŠæ¨“æ–°è²Œè—æ•…äº‹ã€‚ç£ä»”å··å¼„è—ç«¥è¶£ï¼ŒèˆŠåº—å †æ»¿å¾©å¤å¯¶ã€‚',

      step1Question: 'åœ¨åˆ©æ±è¡—æŒ‡å®šè·¯æ®µï¼ˆèµ·é»èˆ‡çµ‚é»å°‡é å…ˆæ¨™ç¤ºï¼‰ï¼Œå‘ä¸Šæœ›ä¸¦æ•¸ç®—é ­é ‚æ‡¸æ›çš„ç´…è‰²ç‡ˆç± ç¸½æ•¸ï¼Œè¨˜éŒ„å¯¦éš›æ•¸ç›®ã€‚',
      step1Ans:      ['300', '300å€‹', 'ä¸‰ç™¾', 'ä¸‰ç™¾å€‹',
                      'ç´„300', 'å¤§ç´„300', '300ç›',
                      'ä¸‰ç™¾ç›', '300ç‡ˆç± '],

      step2Task:     'ä»¥ä¸‹åœ–ç‰‡çš„ç‰©ä»¶çš„åƒ¹æ ¼ç‚ºï¼Ÿ',
      step2Ans:      ['69', '$69', '69å…ƒ', '69èšŠ',
                      'æ¸¯å¹£69', 'hkd69',
                      'å…­åä¹', 'å…­åä¹å…ƒ', 'å…­åä¹èšŠ'],

      step3Photo:    'å…¨çµ„åœ¨å¤©èŠ±æ›æ»¿ç©å…·çš„èµ°å»Šæˆ–åº—é–€å‰ï¼Œæ“ºå‡ºã€Œç«¥å¹´å°‹å¯¶ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'ToyHunt',
    }

  ); // STATIONS_A.push çµæŸï¼ˆA6â€“A9ï¼‰
</script>
<script>
  /* ===================================================
     B çµ„ â€” æ±éµç·šç«™é»æ•¸æ“šï¼ˆB1â€“B5ï¼‰
  =================================================== */
  const STATIONS_B = [

    /* -------- B1ï¼šç²‰å¶ºåœ -------- */
    {
      code:          'B1',
      name:          'ç²‰å¶ºåœ',
      imgUrl:        'images/b1.jpg',
      imgAlt:        'ğŸ“· ç²‰å¶ºåœï¼šæ–°ç•ŒåŸå±…æ°‘å‚³çµ±åœæ‘é–€æ¨“èˆ‡çŸ³ç…',
      poem:          'ä¸Šæ°´å¤é“é€£ç²‰å¶ºï¼Œåœæ‘é–€æ¨“å®ˆæ­²æœˆã€‚',

      step1Question: 'åœ¨ä¸Šæ°´ç«™è‹¥è¦å‰å¾€åŒ—å€å…¬åœ’ï¼Œæ‡‰å¾å“ªå€‹å‡ºå£é›¢é–‹ï¼Ÿ',
      step1Ans:      ['b2', 'b2å‡ºå£', 'å‡ºå£b2',
                      'exitb2', 'b 2',
                      'b', 'å‡ºå£b'],

      step2Task:     'æ­ä¹˜æ±éµç·šç”±ä¸Šæ°´å‰å¾€ç²‰å¶ºï¼Œä¸‹è»Šå¾Œæ­¥è¡Œè‡³åŒ—å€å…¬åœ’æ—çš„ç²‰å¶ºåœå…¥å£ï¼Œå…¨çµ„åœ¨é–€æ¨“é™„è¿‘èˆ‡çŸ³ç…æˆ–æœ€é¡¯çœ¼æ¨™èªŒåˆç…§ä¸€å¼µï¼Œæ“ºå‡ºã€Œå¤æ‘å®ˆè­·ã€å§¿å‹¢ã€‚å®Œæˆå¾ŒæŒ‰æäº¤ã€‚',
      step2Ans:      ['*'],

      step3Photo:    'å…¨çµ„åœ¨é–€æ¨“é™„è¿‘èˆ‡çŸ³ç…æˆ–æœ€é¡¯çœ¼æ¨™èªŒåˆç…§ä¸€å¼µï¼Œæ“ºå‡ºã€Œå¤æ‘å®ˆè­·ã€å§¿å‹¢ã€‚',
      password:      'AncientGuard',
    },

    /* -------- B2ï¼šé¦™æ¸¯éµè·¯åšç‰©é¤¨ -------- */
    {
      code:          'B2',
      name:          'é¦™æ¸¯éµè·¯åšç‰©é¤¨',
      imgUrl:        'images/b2.jpg',
      imgAlt:        'ğŸ“· é¦™æ¸¯éµè·¯åšç‰©é¤¨ï¼šå¤§åŸ”å¢Ÿç«™èˆŠå€ä¿å­˜çš„çè²´ç«è»Šè»Šå¡',
      poem:          'å¤ªå’Œéµè»Œè—èˆŠæ™‚å…‰ï¼Œåšç‰©é¤¨ä¸­è½ç«è»Šé³´ã€‚',

      step1Question: 'å¤ªå’Œç«™çš„å…©å€‹å‡ºå£ A åŠ Bï¼Œå“ªä¸€å€‹å‡ºå£æ¯”è¼ƒã€Œå¯’ã€ï¼Ÿï¼ˆæç¤ºï¼šèˆ‡å†·æ°£ç›¸é—œçš„å¹½é»˜è§£é‡‹ï¼‰',
      step1Ans:      ['b', 'bå‡ºå£', 'å‡ºå£b',
                      'exitb', 'bè¼ƒå¯’', 'bå¯’',
                      'å‡ºå£bè¼ƒå¯’', 'bæ¯”è¼ƒå¯’'],

      step2Task:     'åœ¨é¦™æ¸¯éµè·¯åšç‰©é¤¨å…§ï¼Œå±•ç¤ºäº†å„å¼å„æ¨£çš„ç«è»Šè»Šå¡ï¼Œè«‹å°‡è»Šå¡çš„ç·¨è™Ÿè¨˜éŒ„ä¸‹æ‰€æœ‰æ•¸å€¼çš„ç¸½å’Œã€‚',
      step2Ans:      ['1264', 'ä¸€äºŒå…­å››',
                      '1264è™Ÿ', 'ç¸½å’Œ1264',
                      'åˆè¨ˆ1264', 'å…±1264'],

      step3Photo:    'å…¨çµ„åœ¨æ‰€é¸ç«è»Šè»Šå¡å‰ï¼Œæ“ºå‡ºã€Œéµè·¯æ™‚å…‰æ—…è¡Œã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'RailJourney',
    },

    /* -------- B3ï¼šå¤§åŸ”è—è¡“ä¸­å¿ƒ -------- */
    {
      code:          'B3',
      name:          'å¤§åŸ”è—è¡“ä¸­å¿ƒ',
      imgUrl:        'images/b3.jpg',
      imgAlt:        'ğŸ“· å¤§åŸ”è—è¡“ä¸­å¿ƒï¼šå¤§åŸ”å…ƒæ´²ä»”Island Houseç™¾å¹´æ®–æ°‘åœ°å»ºç¯‰',
      poem:          'å¤ªå’Œæ©‹ç•”å¤å®…éœï¼ŒIsland House è¨´ç™¾å¹´äº‹ã€‚',

      step1Question: 'ç«™åœ¨å¤ªå’Œæ©‹ä¸Šï¼Œå¡«å……ä»¥ä¸‹ç©ºæ ¼ã€‚å¤§åŸ”æ—æ‘æ²³ä¸Šçš„å¤ªå’Œæ©‹ï¼Œå±¬æ–¼1984â€“1992å¹´é–“èˆˆå»ºçš„ä¸€æ‰¹æ—æ‘æ²³è¡Œäººæ©‹ä¹‹ä¸€ï¼Œèˆ‡éŒ¦çŸ³æ©‹ã€éŒ¦å’Œæ©‹ã€å»£ç¦ã€Œæ–°ã€è¡Œäººæ©‹ã€_______åŒå±¬è¼ƒæ–°çš„è¡Œäººå¤©æ©‹ç³»çµ±ã€‚',
      step1Ans:      ['å¯¶é„‰æ©‹', 'å¯¶é„‰',
                      'å¯¶é„‰æ©‹.',
                      'pouheungbridge',
                      'pou heung bridge'],

      step2Task:     'æ­¥è¡Œå‰å¾€ Island Houseï¼ˆå¤§åŸ”æ–‡ç‰©é¤¨ï¼‰ï¼šä¸‹åˆ—å“ªä¸€é …æœ€å…¨é¢åœ°èªªæ˜æ¸¯è‹±æ”¿åºœåœ¨åä¹ä¸–ç´€æœ«é¸å€å¤§åŸ”å…ƒæ´²ä»”èˆˆå»ºæ–°ç•Œç†æ°‘å®˜ï¼æ”¿å‹™å¸å®˜é‚¸æ™‚ï¼Œæ‰€è€ƒæ…®çš„äº¤é€šèˆ‡ç®¡æ²»å„ªå‹¢ï¼Ÿ\nA. æ¯—é„°å¤§åŸ”å¢Ÿå¸‚å ´ï¼Œæ–¹ä¾¿å®˜å“¡æ¡è³¼æ—¥ç”¨å“åŠæ”¶é›†æ°‘æƒ…ï¼›\nB. ä½è™•åéœ²æ¸¯å‡ºå…¥è¦é“ï¼Œå¯ç›£å¯Ÿæ°´é™¸äº¤é€šï¼Œæœ‰åˆ©ç®¡æ²»æ–°ç•Œå„å€ï¼›\nC. é„°è¿‘ç²‰å¶ºè­¦ç½²ï¼Œä¾¿æ–¼è»è­¦è¯åˆè¡Œå‹•åŠç¶­æŒæ²»å®‰ï¼›\nD. åœ°è™•å±±ä¸˜é«˜åœ°ï¼Œæ°£å€™æ¶¼çˆ½ï¼Œæ˜¯è‹±åœ‹å®˜å“¡çš„å‚³çµ±é¿æš‘å‹åœ°ã€‚',
      step2Ans:      ['b', 'b.', 'é¸b', 'ç­”b',
                      'bä½è™•åéœ²æ¸¯',
                      'åéœ²æ¸¯', 'ç›£å¯Ÿæ°´é™¸äº¤é€š',
                      'æ°´é™¸äº¤é€š', 'ç®¡æ²»æ–°ç•Œ'],

      step3Photo:    'å…¨çµ„åœ¨ Island House å»ºç¯‰å¤–ç‰†æˆ–æ­£é–€å‰ï¼Œæ“ºå‡ºã€Œæ­·å²å®ˆæœ›ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'HeritageWatch',
    },

    /* -------- B4ï¼šå¯¶æ¹–èŠ±åœ’å˜‰åˆ©ç¾é£Ÿ -------- */
    {
      code:          'B4',
      name:          'å¯¶æ¹–èŠ±åœ’å˜‰åˆ©ç¾é£Ÿ',
      imgUrl:        'images/b4.jpg',
      imgAlt:        'ğŸ“· å¯¶æ¹–èŠ±åœ’ï¼šå¤§åŸ”å€æœ¬åœ°è¡—åŠç¾é£Ÿé›†ä¸­åœ°å˜‰åˆ©ç¾é£Ÿ',
      poem:          'è¡—å¿ƒæµ·è±šèºç¢§æ³¢ï¼Œå¯¶æ¹–å°é£Ÿæš–äººå¿ƒã€‚',

      step1Question: 'åœ¨æŒ‡å®šè¡—å¿ƒå…¬åœ’å…§ï¼Œæ‰¾åˆ°æµ·è±šä¸»é¡Œçš„éŠæ¨‚è¨­å‚™ï¼Œè¨˜éŒ„è©²è¨­å‚™ä¸»è¦çš„é¡è‰²ã€‚ï¼ˆå¯ç”¨ç°¡çŸ­é¡è‰²æè¿°ï¼‰',
      step1Ans:      ['ç´…', 'ç´…è‰²', 'red',
                      'ç´…è‰²ç‚ºä¸»', 'ä¸»è¦ç´…è‰²',
                      'ç´…è‰²æµ·è±š', 'æµ·è±šç´…è‰²'],

      step2Task:     'å‰å¾€å¯¶æ¹–èŠ±åœ’å•†å ´å…§çš„ã€Œå˜‰åˆ©ç¾é£Ÿã€ï¼Œå…¨éšŠéœ€è³¼è²·è‡³å°‘ä¸€ä»½å°é£Ÿï¼Œä¸¦ç”±éšŠå“¡å…±åŒåˆ†äº«ã€‚å®Œæˆå¾ŒæŒ‰æäº¤ã€‚',
      step2Ans:      ['*'],

      step3Photo:    'å…¨çµ„åœ¨å˜‰åˆ©ç¾é£Ÿåº—å‰ï¼Œæ‰‹æŒæˆ–å±•ç¤ºå°é£Ÿï¼Œæ“ºå‡ºã€Œç¾é£Ÿåˆ†äº«æ¨‚ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'FoodShare',
    },

    /* -------- B5ï¼šæ›¾å¤§å±‹ -------- */
    {
      code:          'B5',
      name:          'æ›¾å¤§å±‹',
      imgUrl:        'images/b5.jpg',
      imgAlt:        'ğŸ“· æ›¾å¤§å±‹ï¼šæ²™ç”°åŸé–€æ²³ç•”ä¿å­˜å®Œå¥½çš„æ¸…ä»£å®¢å®¶åœå±‹',
      poem:          'åŸé–€æ²³ç•”å…¬åœ’ç¶ ï¼Œæ›¾å¤§å±‹ä¸­å‚³çŸ³åŒ é­‚ã€‚',

      step1Question: 'æ²™ç”°å…¬åœ’åœ¨æ­£å¼å‘½åç‚ºã€Œæ²™ç”°å…¬åœ’ã€ä¹‹å‰ï¼Œæ›¾ä½¿ç”¨å“ªä¸€å€‹åç¨±ï¼Ÿ\nA. æ²™ç”°æµ·æ¿±å…¬åœ’ï¼›\nB. æ²™ç”°ä¸­å¤®å…¬åœ’ï¼›\nC. æ²™ç”°åŸé–€æ²³å…¬åœ’ï¼›\nD. æ²™ç”°æ–°å¸‚é®å…¬åœ’ã€‚',
      step1Ans:      ['b', 'b.', 'é¸b', 'ç­”b',
                      'æ²™ç”°ä¸­å¤®å…¬åœ’',
                      'bæ²™ç”°ä¸­å¤®å…¬åœ’',
                      'ä¸­å¤®å…¬åœ’'],

      step2Task:     'ä¸‹åˆ—å“ªä¸€é …æœ€åˆ‡åˆæ­·å²è¨˜è¼‰ï¼Œèªªæ˜æ›¾å¤§å±‹é–‹æ‘å§‹ç¥–æ›¾è²«è¬ã€Œè‡´å¯Œä¹‹é“ã€çš„æ€§è³ªï¼Ÿ\nA. æ›¾è²«è¬æ†‘è—‰ç¶“ç‡Ÿè·¨å¢ƒè²¿æ˜“ï¼Œå¾€ä¾†å»£å·èˆ‡é¦™æ¸¯ä¹‹é–“è²©è³£å¸ƒåŒ¹è€Œè‡´å¯Œï¼›\nB. æ›¾è²«è¬é€éå‘æ¸¯è‹±æ”¿åºœæ‰¿è¾¦åœŸåœ°æ¸¬é‡å·¥ç¨‹ï¼Œç²å¾—è±åšå ±é…¬è€Œè‡´å¯Œï¼›\nC. æ›¾è²«è¬æ–¼èˆˆå»ºé¦™æ¸¯å¤§æœƒå ‚æœŸé–“æ“”ä»»çŸ³ææ‰¿è¾¦å•†ï¼Œè—‰æ‰¿åŒ…å·¥ç¨‹è€Œè‡´å¯Œï¼›\nD. æ›¾è²«è¬åœ¨ä¹é¾åŸå¯¨é™„è¿‘é–‹è¨­å…¸ç•¶è¡Œï¼Œä»¥æ”¾å‚µåŠå…¸ç•¶æ¥­å‹™ç©ç´¯è²¡å¯Œã€‚',
      step2Ans:      ['c', 'c.', 'é¸c', 'ç­”c',
                      'çŸ³ææ‰¿è¾¦å•†',
                      'cæ›¾è²«è¬æ–¼èˆˆå»ºé¦™æ¸¯å¤§æœƒå ‚',
                      'é¦™æ¸¯å¤§æœƒå ‚', 'æ‰¿åŒ…å·¥ç¨‹',
                      'çŸ³æ', 'å¤§æœƒå ‚'],

      step3Photo:    'å…¨çµ„åœ¨æ›¾å¤§å±‹æ‘å£æˆ–ä¸»è¦å»ºç¯‰å‰ï¼Œæ“ºå‡ºã€Œé–‹æ‘å‚³æ‰¿ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'VillageLegacy',
    },

  ]; // STATIONS_B å‰åŠæ®µçµæŸï¼ˆB1â€“B5ï¼‰
</script>
<script>
  /* ===================================================
     B çµ„ â€” æ±éµç·šç«™é»æ•¸æ“šï¼ˆB6â€“B9ï¼‰
     çºŒæ¥ STATIONS_B é™£åˆ—
  =================================================== */
  STATIONS_B.push(

    /* -------- B6ï¼šè»Šå…¬å»Ÿ -------- */
    {
      code:          'B6',
      name:          'è»Šå…¬å»Ÿ',
      imgUrl:        'images/b6.jpg',
      imgAlt:        'ğŸ“· è»Šå…¬å»Ÿï¼šæ²™ç”°è‘—åå‚³çµ±å»Ÿå®‡ï¼Œä»¥è½‰å‹•é¢¨è»Šç¥ˆç¦èå',
      poem:          'æ›¾æ°èˆŠæ‘éæ©‹è¡Œï¼Œè»Šå…¬è½‰è¼ªé©…ç–«éˆã€‚',

      step1Question: 'è«‹é€²å…¥è»Šå…¬å»Ÿï¼Œè§€å¯Ÿå»Ÿå…§çš„ä»‹ç´¹èˆ‡æ­·å²èªªæ˜ï¼Œæº–å‚™å›ç­”ä»¥ä¸‹é€šé—œä»»å‹™ã€‚',
      step1Ans:      ['*'],

      step2Task:     'æ ¹æ“šè»Šå…¬å»Ÿçš„å‚³èªªèˆ‡ä»‹ç´¹ï¼Œè»Šå…¬å»Ÿå»ºå»Ÿçš„ä¸»è¦åŸå› æ˜¯ç‚ºäº†ä»€éº¼ï¼Ÿè«‹ç”¨ç°¡çŸ­è©èªå›ç­”ã€‚',
      step2Ans:      ['ç‚ºæ±‚é©…é™¤ç–«ç—‡', 'é©…é™¤ç–«ç—‡',
                      'é©…ç–«', 'é™¤ç–«', 'æ²»ç–«',
                      'æ¶ˆé™¤ç–«ç—‡', 'é©…ç˜Ÿ',
                      'æ¶ˆç½é™¤ç–«', 'ç˜Ÿç–«',
                      'é©…é™¤ç˜Ÿç–«', 'ç–«ç—‡',
                      'æ±‚é©…ç–«', 'é©…é™¤'],

      step3Photo:    'å…¨çµ„åœ¨è»Šå…¬å»Ÿå‰æ‹æ”åˆç…§ã€‚',
      password:      'TemplePrayer',
    },

    /* -------- B7ï¼šå¤§åœèˆŠæ‘å¾Œå·· -------- */
    {
      code:          'B7',
      name:          'å¤§åœèˆŠæ‘å¾Œå··',
      imgUrl:        'images/b7.jpg',
      imgAlt:        'ğŸ“· å¤§åœèˆŠæ‘å¾Œå··ï¼šå……æ»¿æ­·å²æ„Ÿçš„èˆŠéµé–˜èˆ‡å¤è€å··é“',
      poem:          'è»Šå…¬æ©‹é‚ŠèˆŠæ‘æ·±ï¼Œå¾Œå··éµé–˜è—èˆŠç—•ã€‚',

      step1Question: 'åœ¨ Che Kung Bridge ä¸ŠæŒ‡å®šä½ç½®ï¼Œç”±å·¥ä½œäººå“¡æˆ–éšŠä¼æˆå“¡æ‹æ”ä¸€å¼µå…¨çµ„åˆç…§ï¼Œç•«é¢éœ€åŒ…æ‹¬æ©‹ä¸Šæ¬„æ†åŠæ²³é“æ™¯è§€ã€‚å®Œæˆå¾ŒæŒ‰æäº¤ã€‚',
      step1Ans:      ['*'],

      step2Task:     'èµ°é€²å¤§åœèˆŠæ‘è¼ƒçª„çš„å¾Œå··ï¼ŒæŒ‘æˆ°ä»¥ä¸‹å•é¡Œï¼š\n\né¡Œç›®ä¸€ï¼šé—œæ–¼å¤§åœèˆŠæ‘å··é“æ ¼å±€ï¼Œä»¥ä¸‹å“ªé …æè¿°æœ€ç‚ºæº–ç¢ºï¼Ÿ\nA. å··é“æ¡ç”¨æ£‹ç›¤å¼è¦åŠƒï¼Œæ–¹ä¾¿å±…æ°‘å¿«é€Ÿç–æ•£ï¼›\nB. å··é“ç‹¹çª„æ›²æŠ˜ï¼Œå…·æœ‰é˜²ç¦¦åŠŸèƒ½ï¼Œå¯é˜»æ…¢å…¥ä¾µè€…ï¼›\nC. å··é“å¯¬é—Šç­†ç›´ï¼Œæ–¹ä¾¿é‹é€è¾²ç”¢å“å‡ºå…¥ï¼›\nD. å··é“è¨­è¨ˆä»¥é¢¨æ°´ç‚ºä¸»ï¼ŒæŒ‰å…«å¦æ–¹ä½æ’åˆ—ã€‚\n\né¡Œç›®äºŒï¼šå‡å¦‚ä½ æ˜¯ä¸€ä½ä½åœ¨å¾Œå··çš„èˆŠæ‘å±…æ°‘ï¼Œä»¥ä¸‹å“ªé …æœ€èƒ½å½¢å®¹å¾Œå··ç©ºé–“çš„æ—¥å¸¸ç”¨é€”ï¼Ÿ\nA. ä¸»è¦ç”¨ä½œåœæ³Šç§å®¶è»ŠåŠé›»å–®è»Šï¼›\nB. ä½œç‚ºå•†åº—çš„å¾Œé–€å¸è²¨å€ï¼Œç¹å¿™è€Œå˜ˆé›œï¼›\nC. æ™¾æ›¬è¡£ç‰©ã€é„°é‡Œé–’èŠçš„ç”Ÿæ´»å»¶ä¼¸ç©ºé–“ï¼›\nD. ç”¨ä½œéš”é›¢ç—…æ‚£çš„è‡¨æ™‚é†«ç™‚å€åŸŸã€‚',
      step2Ans:      ['bc', 'b,c', 'b c',
                      '1b2c', '1.b2.c',
                      'bå’Œc', 'båŠc',
                      'é¡Œç›®ä¸€bé¡Œç›®äºŒc',
                      'ä¸€bäºŒc', 'b', 'c',
                      'é¡Œä¸€bé¡ŒäºŒc'],

      step3Photo:    'å…¨çµ„åœ¨æ‰€é¸æœ€å…·æ­·å²æ„Ÿçš„èˆŠéµé–˜æˆ–èˆŠé–€å‰ï¼Œæ“ºå‡ºã€ŒèˆŠå··å°‹è·¡ã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'AlleyTrace',
    },

    /* -------- B8ï¼šä¹é¾å¡˜ç«™ -------- */
    {
      code:          'B8',
      name:          'ä¹é¾å¡˜ç«™',
      imgUrl:        'images/b8.jpg',
      imgAlt:        'ğŸ“· ä¹é¾å¡˜ç«™ï¼šæ±éµç·šæœˆå°æ›¸æ³•ç‰†ï¼ŒèƒŒæ™¯å¯è¦‹ä¹é¾å¡˜ä½å®…ç¾¤',
      poem:          'åˆä¸€åŸä¸­é›»æ¢¯ç¶²ï¼Œä¹é¾å¡˜å¤–å±¤å±¤ç–Šã€‚',

      step1Question: 'åˆä¸€åŸå…§çš„æ‰¶æ‰‹é›»æ¢¯è¨­è¨ˆå‘ˆç¸±æ©«äº¤éŒ¯ç‹€ï¼Œå¦‚åŒèœ˜è››ç¶²èˆ¬åˆ†å¸ƒã€‚è«‹ç°¡è¦èªªæ˜é€™ç¨®è¨­è¨ˆçš„ä¸»è¦åŸå› ã€‚',
      step1Ans:      ['å¼•å°äººæµ', 'äººæµ',
                      'å¼•å°äººæµç¶“éæœ€å¤šå•†èˆ–',
                      'æ–¹ä¾¿ä¸åŒæ¨“å±¤', 'å¿«é€Ÿè½‰æ›å‹•ç·š',
                      'ä»¤äººæµå¹³å‡', 'å¢åŠ é€—ç•™æ™‚é–“',
                      'æ¶ˆè²»æ©Ÿæœƒ', 'å¢åŠ æ¶ˆè²»',
                      'åˆ†å¸ƒå„å±¤', 'äººæµåˆ†å¸ƒ',
                      'é€—ç•™', 'å•†èˆ–', 'å‹•ç·š'],

      step2Task:     'å»ºæ–°ä¸­å¿ƒæœ€æ¨™èªŒæ€§çš„ã€Œå¤ªç©ºæ™‚ä»£ã€è¨­è¨ˆå…ƒç´ åŒ…æ‹¬ä»¥ä¸‹å“ªä¸€é …ï¼Ÿ\nA. é ‚å±¤çš„åœ“å½¢æ—‹è½‰é¤å»³ï¼Œå¯360åº¦é£½è¦½ä¹é¾æ™¯è‰²ï¼›\nB. 1æ¨“åœ“æ‹±å½¢çª—é–€ï¼Œå‘¼æ‡‰1960è‡³70å¹´ä»£çš„å¤ªç©ºæ™‚ä»£å»ºç¯‰é¢¨æ ¼ï¼›\nC. å¤–ç‰†çš„é‡‘å±¬é‹æ¿å¹•ç‰†ï¼Œåå°„é™½å…‰å¦‚å¤ªç©ºèˆ¹å¤–æ®¼ï¼›\nD. åœ°ä¸‹å±¤çš„çƒå½¢å™´æ°´æ± ï¼Œè±¡å¾µå¤ªç©ºæ˜Ÿçƒé‹è¡Œè»Œè·¡ã€‚',
      step2Ans:      ['b', 'b.', 'é¸b', 'ç­”b',
                      '1æ¨“åœ“æ‹±å½¢çª—é–€',
                      'b1æ¨“åœ“æ‹±å½¢çª—é–€',
                      'åœ“æ‹±å½¢', 'åœ“æ‹±å½¢çª—é–€',
                      '1æ¨“åœ“æ‹±', 'å¤ªç©ºæ™‚ä»£',
                      'æ‹±å½¢çª—'],

      step3Photo:    'å…¨çµ„åœ¨å»ºæ–°ä¸­å¿ƒå¤–ï¼ˆä»¥è¯åˆé“è¦–è§’ç‚ºä¸»ï¼‰ï¼Œæ“ºå‡ºã€Œå±¤å±¤ç–Šç–Šã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'LayeredCity',
    },

    /* -------- B9ï¼šä¸Šæµ·è¡—618å”æ¨“ç¾¤ -------- */
    {
      code:          'B9',
      name:          'ä¸Šæµ·è¡— 618 å”æ¨“ç¾¤',
      imgUrl:        'images/b9.jpg',
      imgAlt:        'ğŸ“· æ—ºè§’ï¼šä¸Šæµ·è¡— 618 è™Ÿâ€”â€”æ´»åŒ–å”æ¨“æ–‡å‰µåœ°æ¨™ï¼Œæ–°èˆŠèåˆå¤–è§€',
      poem:          'æ—ºè§’æ±ç«™å–§é¬§éï¼Œä¸Šæµ·è¡—èˆŠå”æ¨“è—æ™‚å…‰è† å›Šã€‚',

      step1Question: 'è«‹åœ¨åœ°åœ–ä¸Šæ‰¾å‡ºä¸Šæµ·è¡— 618 å”æ¨“ç¾¤ï¼Œä¸¦ä¼°è¨ˆï¼šç”±ç›®å‰ä½ç½®ï¼ˆåœ°éµç«™å‡ºé–˜ä½ç½®ï¼‰æ­¥è¡Œè‡³è©²å”æ¨“ç¾¤å¤§ç´„éœ€è¦å¤šå°‘åˆ†é˜ï¼Œå¯«ä¸‹é è¨ˆæ™‚é–“ã€‚ï¼ˆä¼°ç®—æ­¥é€Ÿç‚º 3.3km/hï¼‰',
      step1Ans:      ['15', '16', '17',
                      '15åˆ†é˜', '16åˆ†é˜', '17åˆ†é˜',
                      '15-17', '15è‡³17', '15åˆ°17',
                      '15â€“17åˆ†é˜', 'ç´„15', 'ç´„16', 'ç´„17',
                      'åäº”', 'åå…­', 'åä¸ƒ',
                      'åäº”åˆ†é˜', 'åå…­åˆ†é˜', 'åä¸ƒåˆ†é˜'],

      step2Task:     'åœ¨ä¸Šæµ·è¡— 618 å”æ¨“ç¾¤çš„é¨æ¨“ä¸‹ï¼Œè§€å¯ŸæŸ±å­åŠä¸Šæ–¹å±¤å±¤ç–Šç–Šçš„èˆŠå­—æ¨£ã€‚é€™äº›å­—ä»¥å‰ä¸»è¦ç”¨ä½œå“ªä¸€ç¨®ç”¨é€”ï¼Ÿè«‹ä»¥ç°¡çŸ­è©èªå›ç­”ã€‚',
      step2Ans:      ['å»£å‘Šæ‹›ç‰Œå­—', 'å•†è™Ÿåç¨±',
                      'åº—èˆ–æ‹›ç‰Œç”¨å­—', 'å»£å‘Š',
                      'æ‹›ç‰Œ', 'å•†è™Ÿ',
                      'å»£å‘Šæ‹›ç‰Œ', 'åº—èˆ–æ‹›ç‰Œ',
                      'æ‹›ç‰Œå­—', 'å»£å‘Šå­—',
                      'å•†æ¥­å»£å‘Š', 'åº—è™Ÿ',
                      'å»£å‘Šç”¨é€”', 'æ‹›ç‰Œç”¨é€”'],

      step3Photo:    'å…¨çµ„åœ¨ä¸Šæµ·è¡— 618 å”æ¨“ç¾¤çš„é¨æ¨“ä¸‹ï¼ˆä»¥æŸ±å­æˆ–èˆŠæ‹›ç‰Œæœ€æ˜é¡¯è™•ç‚ºèƒŒæ™¯ï¼‰ï¼Œæ“ºå‡ºã€Œæ­²æœˆæ™‚å…‰è† å›Šã€å§¿å‹¢æ‹æ”åˆç…§ã€‚',
      password:      'TimeCapsule',
    }

  ); // STATIONS_B.push çµæŸï¼ˆB6â€“B9ï¼‰
</script>
<script>
  /* ===================================================
     éµç›¤ Enter å¿«æ·éµæ”¯æ´
  =================================================== */
  document.addEventListener('keydown', function(e) {
    if (e.key !== 'Enter') return;
    const active = document.querySelector('.page.active');
    if (!active) return;

    // ç™»å…¥é 
    if (active.id === 'page-login') {
      handleLogin();
      return;
    }

    // ç«™é»è©³æƒ…é 
    if (active.id === 'page-station') {
      const idx = STATE.currentStation;
      const prog = STATE.stationProgress[idx] || 0;
      if (prog === 0) { submitStep1(idx); return; }
      if (prog === 1) { submitStep2(idx); return; }
      if (prog === 2) { submitStep3(idx); return; }
    }
  });

  /* ===================================================
     é˜²æ­¢è¡¨å–®æ„å¤–æäº¤
  =================================================== */
  document.addEventListener('submit', function(e) {
    e.preventDefault();
  });

  /* ===================================================
     iOS Safari 100vh ä¿®æ­£
  =================================================== */
  function fixVH() {
    const vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }
  fixVH();
  window.addEventListener('resize', fixVH);

  /* ===================================================
     é é¢å¯è¦‹åº¦è®Šæ›´æ™‚è‡ªå‹•å„²å­˜é€²åº¦
  =================================================== */
  document.addEventListener('visibilitychange', function() {
    if (document.visibilityState === 'hidden' && STATE.group) {
      saveProgress();
    }
  });

  /* ===================================================
     ç™»å…¥é  Input æŒ‰ Enter ç›´æ¥ç™»å…¥
  =================================================== */
  document.getElementById('teamNameInput')
    .addEventListener('keydown', function(e) {
      if (e.key === 'Enter') handleLogin();
    });

  /* ===================================================
     é é¢åˆå§‹åŒ–ï¼šæª¢æŸ¥æ˜¯å¦æœ‰å·²å„²å­˜é€²åº¦
  =================================================== */
  (function init() {
    const saved = loadProgress();
    if (saved && saved.teamName && saved.group) {
      // æœ‰å„²å­˜é€²åº¦ï¼Œé å¡«ç™»å…¥è¡¨å–®æç¤ºä½¿ç”¨è€…
      document.getElementById('teamNameInput').value = saved.teamName;
      selectGroup(saved.group);

      // é¡¯ç¤ºæç¤ºè¨Šæ¯
      document.getElementById('loginAlert').innerHTML = `
        <div class="alert alert-info">
          ğŸ’¾ æª¢æ¸¬åˆ°ä¸Šæ¬¡é€²åº¦ï¼ˆ${saved.teamName} Â· ${saved.group === 'A' ? 'æ¸¯å³¶ç·š A çµ„' : 'æ±éµç·š B çµ„'}ï¼‰ã€‚
          æŒ‰ã€Œé–‹å§‹å†’éšªã€å³å¯æ¢å¾©é€²åº¦ã€‚
        </div>
      `;
    }

    // ç¢ºä¿ç™»å…¥é ç‚ºé è¨­é¡¯ç¤ºé é¢
    showPage('login');
  })();

  /* ===================================================
     å·¥å…·å‡½å¼è£œå……ï¼šé‡è¨­å–®é—œé€²åº¦ï¼ˆä¾›ç®¡ç†å“¡ä½¿ç”¨ï¼‰
  =================================================== */
  function resetStation(idx) {
    if (typeof idx === 'number' && idx >= 0 && idx < STATE.totalStations) {
      STATE.stationProgress[idx] = 0;
      saveProgress();
      showToast(`ğŸ”„ ç¬¬ ${idx + 1} é—œé€²åº¦å·²é‡è¨­`, 'info');
      renderHome();
    }
  }

  /* ===================================================
     å·¥å…·å‡½å¼è£œå……ï¼šä¸€éµè·³é—œï¼ˆä¾›æ¸¬è©¦ä½¿ç”¨ï¼‰
  =================================================== */
  function skipToStation(idx) {
    if (typeof idx !== 'number') return;
    for (let i = 0; i < idx; i++) {
      STATE.stationProgress[i] = 3;
    }
    STATE.currentStation = idx;
    saveProgress();
    renderHome();
    showToast(`â­ï¸ å·²è·³è‡³ç¬¬ ${idx + 1} é—œ`, 'info');
  }

  /* ===================================================
     æ‰‹å‹¢æ»‘å‹•æ”¯æ´ï¼ˆå·¦æ»‘è¿”å›ä¸»é ï¼‰
  =================================================== */
  let touchStartX = 0;
  let touchStartY = 0;

  document.addEventListener('touchstart', function(e) {
    touchStartX = e.changedTouches[0].screenX;
    touchStartY = e.changedTouches[0].screenY;
  }, { passive: true });

  document.addEventListener('touchend', function(e) {
    const dx = e.changedTouches[0].screenX - touchStartX;
    const dy = e.changedTouches[0].screenY - touchStartY;
    // å³æ»‘ï¼ˆ>80px ä¸”æ°´å¹³ç§»å‹•å¤§æ–¼å‚ç›´ç§»å‹•ï¼‰â†’ è¿”å›ä¸»é 
    if (dx > 80 && Math.abs(dx) > Math.abs(dy) * 1.5) {
      const active = document.querySelector('.page.active');
      if (active && active.id === 'page-station') {
        goHome();
      }
    }
  }, { passive: true });

</script>

</body>
</html>
